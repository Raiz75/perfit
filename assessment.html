<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfit</title>
    <style>
        *{
            box-sizing: border-box;
        }
        body{
            padding: 0;
            margin: 0;
            font-size: 16px;
            font-family: Arial, sans-serif;
        }

        /*banner*/
        .banner img{
            width: 100%;
        }
        .ttl{
            text-align: center;
            font-size: 4rem;
            color:rgb(128, 65, 128);
            margin-top: -25vw;
            margin-bottom: 20vw;
        }

        /*stepCounter*/
        .stepCounter{
            margin-top: 5vw;
            width: 90%;
            margin-left: auto;
            margin-right: auto;
            display: flex;
            margin-bottom: 2rem;
        }
        .stepContainer{
            display: flex;
            flex-direction: column;
            align-items: center; 
            justify-content: center;
            text-align: center;
            color: rgb(128, 65, 128);
            width: 10%;
        }
        .step {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: rgb(255, 223, 255);
            color: rgb(128, 65, 128);
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            margin: 8px;
            font-size: 1.2rem;
        }
        .line{
            flex: 1;
            height: 4px;
            background: rgb(255, 223, 255);
            margin-top: 32px;
        }
        .currentStep{
            background-color: rgb(128, 65, 128);
            color: white
        }

        /* assessment tools */
        .instruction{
            background: linear-gradient(to right, rgb(255, 223, 255), transparent);
            max-width: 700px;
            margin-left: 5%;
            border-radius: 5px;
            border-left: 3px solid rgb(128, 65, 128);
            color: rgb(128, 65, 128);
            padding: 10px;
        }
        .instruction span{
            font-weight: bold;
        }
        .progressBarDiv{
            width: 100%;
            position: sticky;
            top: 0px;
            background: rgb(255, 223, 255);
            margin: 0px auto;
            border-bottom: 3px solid rgb(128, 65, 128);
            padding: 10px;
            box-shadow: 0 0 8px rgba(51, 26, 51, 0.3);
            z-index: 5;
            transition: .5s ease-in-out;
        }
        .progressBarDiv p{
            margin-left: 10px;
            color: rgb(128, 65, 128);
            font-weight: bold;
        }
        .progressBar {
            width: 95%;
            height: 10px;
            background: #ddd;
            border-radius: 8px;
            overflow: hidden;
            margin: 10px auto;
        }
        .progressIndicator {
            height: 100%;
            width: 0%;
            background: rgb(128, 65, 128);
            transition: width 0.3s ease;
        }

        /*personalDetail*/
        .personalDetail{
            height: auto;
            max-width: 500px;
            margin: 2rem auto;
            text-align: center;
            border-radius: 8px;
            padding: 1rem;
            background-color: whitesmoke;
            box-shadow: 0 0 8px rgba(128, 128, 128, 0.3);
            color:rgb(128, 65, 128);
        }
        .personalDetail span{
            font-size: 0.9rem;
            color: grey;
            transition: .3s ease-in-out;
        }
        .box{
            width: auto;
            height: auto;
            border-radius: 8px;
            padding: 0.75rem;
            text-align: left;
            margin: 1rem 0;
            border: 2px solid rgb(128, 65, 128);
            background-color: white;
        }
        .box input[type="number"]{
            max-width: 120px;
            height: 30px;
            border: 2px solid rgb(128, 65, 128);
            border-radius: 8px;
            background-color: white;
            padding: 0.5rem;
            font-size: 1rem;
        }

        /*question box*/
        .questionBox{
            width: 90%;
            margin: 2rem auto;
            text-align: center;
            padding: 1.5rem;
            background-color: whitesmoke;
            border-radius: 12px;
            box-shadow: 0 0 8px rgba(51, 26, 51, 0.3);
        }
        .questionText{
            width: 95%;
            font-size: 1.5rem;
            margin: 0 auto 1.5rem auto;
            color: rgb(128, 65, 128);
            line-height: 1.4;
        }
        .rateBox{
            margin: 1.5rem auto 0 auto;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: .5rem;
        }
        .rateBox button{
            font-size: 1rem;
            min-height: 50px;
            border-radius: 12px;
            border: 2px solid rgb(128, 65, 128);
            color: rgb(128, 65, 128);
            background-color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .rateBox button:hover{
            color: white;
            background-color: rgb(128, 65, 128);
        }
        .denyInput {
            filter: blur(5px);
            pointer-events: none;
            opacity: 0.9;
        }
        .clicked {
            background-color: rgb(128, 65, 128) !important;
            color: white !important;
        }

        /*specific questions*/
        .specificQuestion{
            width: 90%;
            margin: 0 auto;
            display: none;
        }

        /*responseDiv*/
        .responseDiv{
            width: 90%;
            margin: 2rem auto;
            padding: 2rem;
            border: 3px solid rgb(128, 65, 128);
            border-radius: 12px;
            display: none;
        }

        /*next*/
        .btnDiv{
            display: flex;
            justify-content: center;
            align-items: center;
            transition: .3s ease-in-out;
            bottom: 0px;
        }
        .btnDivStuck{
            position: sticky;
            bottom: 0px;
        } 
        .nextBtn{
            width: 200px;
            height: 60px;
            border: 3px solid rgb(128, 65, 128);
            border-radius: 12px;
            font-size: 1.2rem;
            background-color: rgb(128, 65, 128);
            color: white;
            margin: 10px auto;
            display: block;
            cursor: pointer;
            transition: .3s ease-in-out;
        }
        .nextBtn:hover{
            background-color: rgb(255, 223, 255);
            color: rgb(128, 65, 128);
        }
        .disable{
            pointer-events: none;
            border: 3px solid grey;
            background-color: rgb(196, 171, 196);
            color: grey;
        }
        

        /*footer*/
        .footer{
            background-image: url('img/footer.png');
            background-size: cover;
            width: 100%;
            height: 200px;
            position: relative;
            margin-top: 30vh;
        }

        /*alert*/
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
            backdrop-filter: blur(5px);
            z-index: 999;
        }

        /* Centered alert */
        .showAlert {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border: 3px solid rgb(128, 65, 128);
            width: 500px;
            height: 300px;
            background: white;
            padding: 2rem;
            text-align: center;
            font-size: 1.17rem;
            border-radius: 12px;
        }
        .showAlert button{
            border: 3px solid rgb(128, 65, 128);
            padding: 10px;
            width: 50%;
            background-color: rgb(128, 65, 128);
            border-radius: 12px;
            color: white;
            font-size: 1.2rem;
        }

        /*puzzle*/
        .puzzle{
            width: 40vw;
            height: 40vw;
            position: absolute;
            bottom:0vw;
            left: 0vw;
            background: radial-gradient(circle, rgb(128, 65, 128) 10%, transparent 70%);
            z-index: -5;
        }
        .puzzle img{
            width: 15vw;
            height: 15vw;
        }
        .bottom{
            position: absolute;
            bottom:5vw;
            left:13vw;
            opacity: 0;
            filter: drop-shadow(0vw 0vw 3vw rgb(255, 255, 255));
            transform: scale(1.2);
            transition: 1s ease-in-out;
        }
        .left{
            position: absolute;
            top:13.1vw;
            left:4.9vw;
            opacity: 0;
            filter: drop-shadow(0vw 0vw 3vw rgb(255, 255, 255));
            transform: scale(1.2);
            transition: 1s ease-in-out;
        }
        .right{
            position: absolute;
            top:11.8vw;
            right:5.1vw;
            opacity: 0;
            filter: drop-shadow(0vw 0vw 3vw rgb(255, 255, 255));
            transform: scale(1.2);
            transition: 1s ease-in-out;
        }
        .top{
            position: absolute;
            top:5vw;
            left:11.7vw;
            opacity: 0;
            filter: drop-shadow(0vw 0vw 3vw rgb(255, 255, 255));
            transform: scale(1.2);
            transition: 1s ease-in-out;
        }
        .showPiece{
            transform: scale(1);
            filter: drop-shadow(0vw 0vw 0vw rgb(255, 255, 255));
            opacity: 1;
        }
        .highlightPiece{
            filter: drop-shadow(0vw 0vw 5vw rgb(255, 255, 255));
        }
        /*test*/
        .translateLang{
            position: absolute;
            top: 0;
            right: 0;
            width: auto;
            height: 35px;
            margin: 5px;
            color:rgb(128, 65, 128);
            display: flex;
            gap: 10px;
            border:2px solid rgb(128, 65, 128);
            padding: 3px;
            border-radius: 12px;
            background:white;
        }
        .translateLang select{
            border:1px solid rgb(128, 65, 128);
            color:rgb(128, 65, 128);
            border: none;
            font-size: 1rem;
        }
        .translateLang select:focus {
            outline: none;
        }
        .translateLang img{
            height: auto;
            width: 30px;
        }


        /* Mobile Responsive Media Queries */
        @media screen and (max-width: 768px) {
            .banner{
                height: 30vh;
            }
            .ttl {
                font-size: 2.5rem;
                margin-top: -10vw;
                margin-bottom: 15vw;
            }
            
            .stepCounter {
                width: 95%;
                margin-top: 8vw;
            }
            
            .step {
                width: 50px;
                height: 50px;
                font-size: 1rem;
                margin: 4px;
            }
            .stepContainer{
                width: 20%;
            }
            .line {
                height: 3px;
                margin-top: 26px;
            }

            .instruction{
                margin: auto;
            }
            .progressBarDiv{
                margin: 10px auto;
            }

            .personalDetail {
                width: 95%;
                padding: 1rem;
            }
            
            .questionText {
                font-size: 1.3rem;
            }
            
            .rateBox {
                gap: 0.3rem;
            }
            
            .rateBox button {
                height: 45px;
                min-height: 45px;
                font-size: 0.9rem;
            }
            
            .nextBtn {
                width: 180px;
                height: 50px;
                font-size: 1.1rem;
            }
            
            .footer {
                height: 150px;
                margin-top: 3rem;
            }

            .showAlert{
                width: 300px;
                padding: 1.5rem;
                font-size: .98rem;
            }
        }

        @media screen and (max-width: 480px) {
            body {
                font-size: 14px;
            }
            .banner img{
                height: 30vh;
            }
            .ttl {
                font-size: 2rem;
                margin-top: -50vw;
            }
            
            .stepCounter {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .step {
                width: 40px;
                height: 40px;
                font-size: 0.9rem;
                margin: 3px;
            }
            .stepContainer{
                width: 20%;
            }
            
            .line {
                display: none;
            }

            .instruction{
                margin: auto 20px;
            }
            
            .questionText {
                font-size: 1.1rem;
                width: 100%;
            }
            
            .rateBox {
                grid-template-columns: repeat(4, 1fr);
                gap: 0.5rem;
            }
            
            .rateBox button {
                height: 40px;
                min-height: 40px;
                font-size: 0.8rem;
            }
            
            .nextBtn {
                width: 150px;
                height: 45px;
                font-size: 1rem;
            }
            
            .box input[type="number"] {
                height: 35px;
                font-size: 0.9rem;
            }
            
            .footer {
                height: 120px;
            }

            .translateLang{
                height: 25px;
                width: 60px;
                border: 1px solid rgb(128, 65, 128);
            }
            .translateLang img{
                display:none;
            }
            .translateLang select{
                font-size: .5rem;
                padding:0px;
                width: 50px;
                margin:0px;
            }
        }
    </style>
</head>
<body>
<!--banner-->
    <div class="banner">
        <img src="img/banner-cut.png">
        <p class="ttl move-up" translate="title">ASSESSMENT</p>
        <div class="translateLang">
            <select id="lang" name="language" onchange="changeLanguage(this.value)">
                <option value="en">English</option>
                <option value="tl">Tagalog</option>
            </select>
            <img src="img/icn-language.png">
        </div>
    </div>
<!--step-->
    <div class="stepCounter move-up">
        <div class="stepContainer">
            <p class="step currentStep">1</p>
            <p translate="t1">Personal Details</p>
        </div>
        <p class="line" id="l1"></p>
        <div class="stepContainer">
            <p class="step" id="s2">2</p>
            <p translate="t2">Skill Profiling</p>
        </div>
        <p class="line" id="l2"></p>
        <div class="stepContainer">
            <p class="step" id="s3">3</p>
            <p translate="t3">Interest & Passion Profiling</p>
        </div>
        <p class="line" id="l3"></p>
        <div class="stepContainer">
            <p class="step" id="s4">4</p>
            <p translate="t4">Behavioral Profiling</p>
        </div>
        <p class="line" id="l4"></p>
        <div class="stepContainer">
            <p class="step" id="s5">5</p>
            <p translate="t5">Result</p>
        </div>
    </div>
<!--personal details-->
    <p class="instruction" id="inst1" translate="i1">INSTRUCTION: Please provide your personal details accurately. This information helps us understand your profile better and will only be used for assessment purposes.</p>
    <div class="personalDetail move-up" id="personalForm">
        
        <h2 translate="test">DEMOGRAPHICS</h2>
        <div class="box move-up" id="genderBox">
            <span id="genderBoxttl" translate="ph1a">Gender</span><br>
            <label><input type="radio" name="genderBox" value="1" translate="ph1b"> Male</label>
            <label><input type="radio" name="genderBox" value="2" translate="ph1c"> Female</label>
        </div>
        <div class="box move-up" id="ageBox">
            <span id="ageBoxttl" translate="ph1d">Age</span><br>
            <input type="number" name="ageBox" id="ageInput" min="1" max="100">
            <span translate="ph1e">Years</span>
        </div>
        <div class="box move-up" id="statusBox">
            <span id="statusBoxttl" translate="ph1f">Status</span><br>
            <label><input type="radio" name="statusBox" value="1" translate="ph1g"> Single</label>
            <label><input type="radio" name="statusBox" value="2" translate="ph1h"> Married</label>
        </div>
        <div class="box move-up" id="baptizedBox">
            <span id="baptizedBoxttl" translate="ph1i">Baptized</span><br>
            <label><input type="radio" name="baptizedBox" value="1" translate="ph1j"> No</label>
            <label><input type="radio" name="baptizedBox" value="2" translate="ph1k"> Yes</label>
        </div>
        <div class="box move-up" id="timeInFaithBox">
            <span id="timeInFaithBoxttl" translate="ph1l">Time In Faith</span><br>
            <label><input type="radio" name="timeInFaithBox" value="1" translate="ph1m"> New</label><br>
            <label><input type="radio" name="timeInFaithBox" value="2" translate="ph1n"> 6 months</label><br>
            <label><input type="radio" name="timeInFaithBox" value="3" translate="ph1o"> 1 year</label><br>
            <label><input type="radio" name="timeInFaithBox" value="4" translate="ph1p"> 2+ years</label>
        </div>
    </div>
    <p class="instruction" style="display: none;" id="inst2" translate="i2">INSTRUCTION: Please read each statement carefully and answer honestly. Use the scale to show how strongly you agree or disagree — there are no right or wrong answers, just your true opinion.</p>
<!--skill details-->
    <div id="skillQuestion" style="display: none;">
        <div class="progressBarDiv">
            <p translate="ph2">Skill Profiling Progress</p>
            <div class="progressBar">
                <div class="progressIndicator"></div>
            </div>
        </div>
    </div>
<!--general questions-->
    <div id="ministryCategory" style="display: none;">
        <div class="progressBarDiv">
            <p translate="ph3">Interest and Passion Profiling Progress</p>
            <div class="progressBar">
                <div class="progressIndicator"></div>
            </div>
        </div>
    </div>
<!--specific questions-->
    <div id="ministrySpecific" style="display: none;">
        <div class="progressBarDiv">
            <p translate="ph4">Behavioral Profiling Progress</p>
            <div class="progressBar">
                <div class="progressIndicator"></div>
            </div>
        </div>
    </div>
<!--alert-->
   <div id="overlay" class="overlay">
        <div class="showAlert">
            <p id="alertMessage">Alert message here</p>
            <button onclick="window.location.href = 'index.html'" translate="a1">CLOSE</button>
        </div>
    </div>
    <!-- <p>Base on your Personal & Skill Profiling Interest & Passion Profiling</p> -->
<!--question box template-->
    <template id="questionTemp">
        <div class="questionBox">
            <p class="questionText">//test question//</p>
            <div class="rateBox">
                <button value=3 translate="s1">Strongly Agree</button>
                <button value=2 translate="s2">Agree</button>
                <button value=1 translate="s3">Slightly Agree</button>
                <button value=-1 translate="s4">Slightly Disagree</button>
                <button value=-2 translate="s5">Disagree</button>
                <button value=-3 translate="s6">Strongly Disagree</button>
            </div>
        </div>
    </template>
<!--response div-->
    <div class="responseDiv" id="responseDiv">
        <h1 style="color:rgb(128, 65, 128);text-align: center;" translate="r1">CALLING AND SERVICE PROFILE</h1>
        <div id="thinking" style="display:none; font-weight: bold; font-size: 1.2em;" translate="r2">Analyzing your gifts and calling<span id="dots">.</span></div>
    </div>
<!--next button-->
    <button class="move-up nextBtn" id="step1" onclick="personalDetailsSubmit()" translate="b1">NEXT PHASE</button>
    <div class="btnDiv" id="btnDiv">
        <button class="move-up nextBtn" onclick="reviewAns()" id="review" style="display: none;" translate="b2">REVIEW ANSWER</button>
        <button class="move-up nextBtn" id="step2"  style="display: none;" onclick="showMinistryCategory()" translate="b1">NEXT PHASE</button>
        <button class="move-up nextBtn" id="step3"  style="display: none;" onclick="filter()" translate="b1">NEXT PHASE</button>
        <button class="move-up nextBtn" id="step4"  style="display: none;" onclick="interpret()" translate="b3">SUBMIT</button>
    </div>
    <button class="move-up nextBtn" id="step5" style="display:none;" onclick="window.location.href = 'index.html'" translate="b4">DONE</button>
<!--footer puzzle-->
    <div class="footer">
        <div class="puzzle" id="puzzle">
            <img class="bottom" id="bottom" src="img/y-bottom.png">
            <img class="left" id="left" src="img/x-left.png">
            <img class="right" id="right" src="img/x-right.png">
            <img class="top" id="top" src="img/y-bottom.png">
         </div>
     </div>
<!--script-->
    <script src="callApi.js"></script>
    <script>
    //language
        let selectedLanguage = sessionStorage.getItem("selectedLanguage") || "en";
        window.addEventListener("DOMContentLoaded", () => {
            document.getElementById("lang").value = selectedLanguage;
            sessionStorage.setItem("selectedLanguage", selectedLanguage);
            changeLanguage(selectedLanguage)
        });


//         function changeLanguage(lang){
//             selectedLanguage = lang;
//             sessionStorage.setItem("selectedLanguage", lang);
//             console.log("Selected Language: "+selectedLanguage);

//             document.querySelectorAll("[translate]").forEach(el => {
//                 const key = el.getAttribute("translate");
//                 el.textContent = uiTranslation[lang][key];
//             });

//             document.querySelectorAll("input[translate]").forEach(el => {
//                 const key = el.getAttribute("translate");
//                 const label = el.closest("label");
//                 if(label) {
//                     label.childNodes.forEach(node => {
//                         if(node.nodeType === Node.TEXT_NODE) {
//                             node.textContent = uiTranslation[lang][key];
//                         }
//                     });
//                 }
//             });
// myPort.switchLanguage(selectedLanguage); // switches to Tagalog
            
//         }
        function changeLanguage(lang) {
            selectedLanguage = lang;
            sessionStorage.setItem("selectedLanguage", lang);

            // Update UI text
            document.querySelectorAll("[translate]").forEach(el => {
                const key = el.getAttribute("translate");
                if (uiTranslation[lang][key]) {
                    el.textContent = uiTranslation[lang][key];
                }
            });

            // Update labels if needed
            document.querySelectorAll("input[translate]").forEach(el => {
                const key = el.getAttribute("translate");
                const label = el.closest("label");
                if(label) {
                    label.childNodes.forEach(node => {
                        if(node.nodeType === Node.TEXT_NODE) {
                            node.textContent = uiTranslation[lang][key];
                        }
                    });
                }
            });
            // Update all ports
            ['skillQuestion', 'ministryCategory', 'ministrySpecific'].forEach(portID => {
                const port = document.getElementById(portID);
                if (port && port.switchLanguage) {
                    port.switchLanguage(lang);
                }
            });
            console.log("selected language: " + selectedLanguage);
        }

        //language uiTranslation
        const uiTranslation = {
            en: {
                title: "ASSESSMENT",
                t1: "Personal Details",
                t2: "Skill Profiling",
                t3: "Interest & Passion Profiling",
                t4: "Behavioral Profiling",
                t5: "Result",
                i1: "INSTRUCTION: Please provide your personal details accurately. This information helps us understand your profile better and will only be used for assessment purposes.",
                ph1: "DEMOGRAPHICS",
                ph1a: "Gender",
                ph1b: "Male",
                ph1c: "Female",
                ph1d: "Age",
                ph1e: "Years",
                ph1f: "Status",
                ph1g: "Single",
                ph1h: "Married",
                ph1i: "Baptized",
                ph1j: "No",
                ph1k: "Yes",
                ph1l: "Time In Faith",
                ph1m: "New",
                ph1n: "6 months",
                ph1o: "1 year",
                ph1p: "2+ years",
                i2: "INSTRUCTION: Please read each statement carefully and answer honestly. Use the scale to show how strongly you agree or disagree — there are no right or wrong answers, just your true opinion.",
                ph2: "Skill Profiling Progress",
                ph3: "Interest and Passion Profiling Progress",
                ph4: "Behavioral Profiling Progress",
                a1: "CLOSE",
                s1: "Strongly Agree",
                s2: "Agree",
                s3: "Slightly Agree",
                s4: "Slightly Disagree",
                s5: "Disagree",
                s6: "Strongly Disagree",
                r1: "CALLING AND SERVICE PROFILE",
                r2: "Analyzing your gifts and calling",
                b1: "NEXT PHASE",
                b2: "REVIEW ANSWER",
                b3: "SUBMIT",
                b4: "DONE"

            },
            tl: {
                title: "tagalog",
                t1: "tagalog",
                t2: "tagalog",
                t3: "tagalog",
                t4: "tagalog",
                t5: "tagalog",
                i1: "tagalog",
                i2: "tagalog",
                ph1: "tagalog",
                ph1a: "tagalog",
                ph1b: "tagalog",
                ph1c: "tagalog",
                ph1d: "tagalog",
                ph1e: "tagalog",
                ph1f: "tagalog",
                ph1g: "tagalog",
                ph1h: "tagalog",
                ph1i: "tagalog",
                ph1j: "tagalog",
                ph1k: "tagalog",
                ph1l: "tagalog",
                ph1m: "tagalog",
                ph1n: "tagalog",
                ph1o: "tagalog",
                ph1p: "tagalog",
                i3: "tagalog",
                ph2: "tagalog",
                ph3: "tagalog",
                ph4: "tagalog",
                a1: "tagalog",
                s1: "Lubos na Sumasang-ayon",
                s2: "Sumasang-ayon",
                s3: "Bahagyang Sumasang-ayon",
                s4: "Bahagyang Hindi Sumasang-ayon",
                s5: "Hindi Sumasang-ayon",
                s6: "Lubos na Hindi Sumasang-ayon",
                r1: "tagalog",
                r2: "tagalog",
                b1: "tagalog",
                b2: "tagalog",
                b3: "tagalog",
                b4: "tagalog"
            }
        };
    //varibales
        let gender=0;
        let age=0;
        let status=0;
        let baptized=0;
        let timeInFaith=0;
    //personal details
        function personalDetailsSubmit(){
            const genderAns = document.querySelector("input[name='genderBox']:checked");
            const ageAns = document.querySelector("input[name='ageBox']").value;
            const statusAns = document.querySelector("input[name='statusBox']:checked");
            const baptizedAns = document.querySelector("input[name='baptizedBox']:checked");
            const timeInFaithAns = document.querySelector("input[name='timeInFaithBox']:checked");
            if (!genderAns) {
                document.getElementById('genderBox').scrollIntoView({ behavior: 'smooth', block: 'center' });
                let blink = 0;
                const blinkInterval = setInterval(() => {
                    document.getElementById('genderBoxttl').style.color = (blink % 2 === 0) ? "red" : "grey";
                    document.getElementById('genderBoxttl').style.fontSize = (blink % 2 === 0) ? "1em" : ".8em";
                    document.getElementById('genderBox').style.borderColor = (blink % 2 === 0) ? "red" : "rgb(128, 65, 128)";
                    blink++;
                    if (blink > 5) clearInterval(blinkInterval);
                }, 300);
            }else if (ageAns<1 || ageAns>100) {
                document.getElementById('ageBox').scrollIntoView({ behavior: 'smooth', block: 'center' });
                let blink = 0;
                const blinkInterval = setInterval(() => {
                    document.getElementById('ageBoxttl').style.color = (blink % 2 === 0) ? "red" : "grey";
                    document.getElementById('ageBoxttl').style.fontSize = (blink % 2 === 0) ? "1em" : ".8em";
                    document.getElementById('ageBox').style.borderColor = (blink % 2 === 0) ? "red" : "rgb(128, 65, 128)";
                    document.getElementById('ageInput').value = '';
                    blink++;
                    if (blink > 5) clearInterval(blinkInterval);
                }, 300);
            }else if (!statusAns) {
                document.getElementById('statusBox').scrollIntoView({ behavior: 'smooth', block: 'center' });
                let blink = 0;
                const blinkInterval = setInterval(() => {
                    document.getElementById('statusBoxttl').style.color = (blink % 2 === 0) ? "red" : "grey";
                    document.getElementById('statusBoxttl').style.fontSize = (blink % 2 === 0) ? "1em" : ".8em";
                    document.getElementById('statusBox').style.borderColor = (blink % 2 === 0) ? "red" : "rgb(128, 65, 128)";
                    blink++;
                    if (blink > 5) clearInterval(blinkInterval);
                }, 300);
            }else if (!baptizedAns) {
                document.getElementById('baptizedBox').scrollIntoView({ behavior: 'smooth', block: 'center' });
                let blink = 0;
                const blinkInterval = setInterval(() => {
                    document.getElementById('baptizedBoxttl').style.color = (blink % 2 === 0) ? "red" : "grey";
                    document.getElementById('baptizedBoxttl').style.fontSize = (blink % 2 === 0) ? "1em" : ".8em";
                    document.getElementById('baptizedBox').style.borderColor = (blink % 2 === 0) ? "red" : "rgb(128, 65, 128)";
                    blink++;
                    if (blink > 5) clearInterval(blinkInterval);
                }, 300);
            }else if (!timeInFaithAns) {
                document.getElementById('timeInFaithBox').scrollIntoView({ behavior: 'smooth', block: 'center' });
                let blink = 0;
                const blinkInterval = setInterval(() => {
                    document.getElementById('timeInFaithBoxttl').style.color = (blink % 2 === 0) ? "red" : "grey";
                    document.getElementById('timeInFaithBoxttl').style.fontSize = (blink % 2 === 0) ? "1em" : ".8em";
                    document.getElementById('timeInFaithBox').style.borderColor = (blink % 2 === 0) ? "red" : "rgb(128, 65, 128)";
                    blink++;
                    if (blink > 5) clearInterval(blinkInterval);
                }, 300);
             }else {
                document.getElementById('step1').classList.add("disable");
                //record variables
                gender = document.querySelector('input[name="genderBox"]:checked')?.value || "";
                age = document.querySelector('input[name="ageBox"]')?.value || "";
                status = document.querySelector('input[name="statusBox"]:checked')?.value || "";
                baptized = document.querySelector('input[name="baptizedBox"]:checked')?.value || "";
                timeInFaith = document.querySelector('input[name="timeInFaithBox"]:checked')?.value || "";
                console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
                console.log(">> Personal Profile");
                console.log("gender[1=male 2=female]: "+gender);
                console.log("age: "+age);
                console.log("status[1=single 2=married]: "+status);
                console.log("baptized[1=no 2=yes]: "+baptized);
                console.log("time in faith[1-new 2=6mth 3=1yr 4=2yr]: "+ timeInFaith);
                console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
                console.log("");
                showPuzzle("bottom");
                setTimeout(function() {
                    document.getElementById('personalForm').style.display = "none";
                    document.getElementById('step1').style.display = "none";
                    document.getElementById('step2').style.display = "block";
                    document.getElementById('step2').classList.add("disable");
                    document.getElementById('l1').classList.add("currentStep");
                    document.getElementById('s2').classList.add("currentStep");
                    document.getElementById('skillQuestion').style.display = "block";
                    document.getElementById('inst1').style.display = "none";
                    document.getElementById('inst2').style.display = "block";
                    document.getElementById('review').classList.add("disable");
                    skillSubmit();
                }, 3500);
            }
        };

    //skill questions
        // const skillProfilingQuestions = [
        //     // Musical, Instrumental, Singing Skills
        //    "I am confident in my ability to sing with proper pitch and rhythm.",
        //    "I am able to learn and perform dance routines when given instruction.", 
        //    "I can play a musical instrument with basic skill and technique.",
        //    "I have experience expressing myself through singing, dancing, or playing music.",
        //   "I have the ability to use my singing, dancing, or musical skills to contribute effectively in a ministry or group setting.",
       
        //     // Technological, Computer, Editing Skills
        //    "I can operate computers and use software applications to support church tasks.",
        //    "I have skills in editing, design, or coding that can be used for ministry projects.",
        //     "I can troubleshoot basic technical issues to help in church activities.",
        //    "I am able to learn and apply new digital tools that can benefit the church.",
        //     "I can use my technological skills to serve and support church ministries effectively.",
       
        //     // Writing Skills
        //     "I’m able to put ideas into clear and engaging writing.",
        //     "Writing is something I do frequently in my personal or professional life.",
        //     "I’ve had past experiences creating articles, reports, or scripts.",
        //     "I’d like to further develop my writing abilities through practice or training.",
        //     "I’d like to contribute to church-related materials, articles, or programs through writing.",
       
        //     // Technical, Electrical, Plumbing Skills
        //     "I’m skilled in fixing, building, or handling technical tasks.",
        //     "I often work on repair, maintenance, or hands-on technical projects.",
        //     "I have previous experience in electrical, plumbing, or mechanical work.",
        //     "I’d like to learn more about technical skills through guided training.",
        //     "I’m willing to help the church with technical, electrical, or repair needs.",
       
        //     // Public Speaking Skills
        //     "I feel confident speaking in front of a group of people.",
        //     "I regularly speak or present in front of audiences, big or small.",
        //     "I’ve had experience delivering talks, announcements, or presentations.",
        //     "I can adjust my tone and pace when speaking to keep attention.",
        //     "I can prepare and organize a talk or presentation effectively.",
       
        //     // Accounting Skills
        //    "I’m good at keeping track of money, budgets, or financial records.",  
        //     "I currently handle tasks that involve budgeting or expense tracking.",  
        //     "I’ve had experience managing finances for a project or group.",  
        //     "I can prepare simple financial reports or summaries.",  
        //     "I can ensure accuracy when recording and monitoring financial transactions.",  

        //     // Mentoring/Counseling Ability
        //     "I have a natural ability to guide, encourage, or advise others.",
        //     "I regularly help people through mentoring, counseling, or coaching.",
        //     "I have experience providing advice or support to individuals or groups.",  
        //     "I can actively mentor or counsel people when needed.",  
        //     "I am capable of giving guidance and support to others in an organized way.",  

        //     // Understanding of Bible and Scripture
        //     "I feel confident in my understanding of Biblical stories and principles.",
        //     "I often study and discuss the Bible.",
        //     "I’ve had experience teaching or sharing lessons from Scripture.",
        //     "I’d like to deepen my understanding of the Bible through study.",
        //     "I’d like to share my knowledge of Scripture in church activities."
        // ];
        const skillProfilingQuestions = {
            en: {
                q1: "I am confident in my ability to sing with proper pitch and rhythm.",
                q2: "I am able to learn and perform dance routines when given instruction.",
                q3: "I can play a musical instrument with basic skill and technique.",
                q4: "I have experience expressing myself through singing, dancing, or playing music.",
                q5: "I have the ability to use my singing, dancing, or musical skills to contribute effectively in a ministry or group setting.",
                q6: "I can operate computers and use software applications to support church tasks.",
                q7: "I have skills in editing, design, or coding that can be used for ministry projects.",
                q8: "I can troubleshoot basic technical issues to help in church activities.",
                q9: "I am able to learn and apply new digital tools that can benefit the church.",
                q10: "I can use my technological skills to serve and support church ministries effectively.",
                q11: "I’m able to put ideas into clear and engaging writing.",
                q12: "Writing is something I do frequently in my personal or professional life.",
                q13: "I’ve had past experiences creating articles, reports, or scripts.",
                q14: "I’d like to further develop my writing abilities through practice or training.",
                q15: "I’d like to contribute to church-related materials, articles, or programs through writing.",
                q16: "I’m skilled in fixing, building, or handling technical tasks.",
                q17: "I often work on repair, maintenance, or hands-on technical projects.",
                q18: "I have previous experience in electrical, plumbing, or mechanical work.",
                q19: "I’d like to learn more about technical skills through guided training.",
                q20: "I’m willing to help the church with technical, electrical, or repair needs.",
                q21: "I feel confident speaking in front of a group of people.",
                q22: "I regularly speak or present in front of audiences, big or small.",
                q23: "I’ve had experience delivering talks, announcements, or presentations.",
                q24: "I can adjust my tone and pace when speaking to keep attention.",
                q25: "I can prepare and organize a talk or presentation effectively.",
                q26: "I’m good at keeping track of money, budgets, or financial records.",
                q27: "I currently handle tasks that involve budgeting or expense tracking.",
                q28: "I’ve had experience managing finances for a project or group.",
                q29: "I can prepare simple financial reports or summaries.",
                q30: "I can ensure accuracy when recording and monitoring financial transactions.",
                q31: "I have a natural ability to guide, encourage, or advise others.",
                q32: "I regularly help people through mentoring, counseling, or coaching.",
                q33: "I have experience providing advice or support to individuals or groups.",
                q34: "I can actively mentor or counsel people when needed.",
                q35: "I am capable of giving guidance and support to others in an organized way.",
                q36: "I feel confident in my understanding of Biblical stories and principles.",
                q37: "I often study and discuss the Bible.",
                q38: "I’ve had experience teaching or sharing lessons from Scripture.",
                q39: "I’d like to deepen my understanding of the Bible through study.",
                q40: "I’d like to share my knowledge of Scripture in church activities."
            },
            tl: {
                q1: "May tiwala ako sa aking kakayahang umawit nang may tamang tono at ritmo.",
                q2: "Kaya kong matutunan at isayaw ang mga rutinang itinuturo sa akin.",
                q3: "Kaya kong tumugtog ng isang instrumento gamit ang batayang kasanayan at tamang pamamaraan.",
                q4: "May karanasan ako sa pagpapahayag ng aking sarili sa pamamagitan ng pag-awit, pagsayaw, o pagtugtog ng musika.",
                q5: "May kakayahan akong gamitin ang aking talento sa pag-awit, pagsayaw, o pagtugtog upang maging mabisa ang aking ambag sa isang ministeryo o grupo.",
                q6: "Marunong akong gumamit ng kompyuter at mga software upang makatulong sa simbahan.",
                q7: "May kakayahan ako sa pag-eedit, pagdidisenyo, o coding para sa mga proyekto ng ministeryo.",
                q8: "Kaya kong ayusin ang mga simpleng teknikal na problema sa mga gawain ng simbahan.",
                q9: "Handa akong matuto gumamit ng mga bagong digital tools na makabubuti sa simbahan.",
                q10: "Magagamit ko ang aking tech skills upang makapagsilbi at makasuporta sa mga ministeryo ng simbahan.",
                q11: "Nakakaya kong magsulat ng malinaw at nakakaengganyong ideya.",
                q12: "Madalas kong ginagawa ang pagsusulat sa personal o propesyonal na buhay.",
                q13: "May karanasan ako sa paggawa ng articles, reports, o scripts.",
                q14: "Nais ko pang mapaunlad ang aking kakayahan sa pagsusulat sa pamamagitan ng pageensayo .",
                q15: "Gusto kong mag-ambag sa paggawa ng church materials, articles, o programs sa pamamagitan ng pagsusulat.",
                q16: "May kasanayan ako sa pagkukumpuni, paggawa, o paghawak ng mga teknikal na gawain.",
                q17: "Madalas akong gumagawa ng repair, maintenance, o iba pang hands-on na teknikal na proyekto.",
                q18: "May karanasan na ako sa electrical, plumbing, o mechanical na trabaho.",
                q19: "Gusto kong matuto pa ng mas maraming teknikal na skills sa pamamagitan ng guided training.",
                q20: "Handa akong tumulong sa simbahan pagdating sa teknikal, electrical, o repair na pangangailangan.",
                q21: "May kumpiyansa akong magsalita sa harap ng isang grupo ng tao.",
                q22: "Madalas akong magsalita o magpresenta sa harap ng mga tagapakinig, maliit man o malaki.",
                q23: "Nagkaroon na ako ng karanasan sa pagbibigay ng mga talumpati, anunsyo, o presentasyon.",
                q24: "Kaya kong iakma ang aking tono at bilis ng pananalita upang mapanatili ang atensyon.",
                q25: "Kaya kong maghanda at mag-ayos ng isang talumpati o presentasyon nang epektibo.",
                q26: "Magaling ako sa pagtatala ng pera, badyet, o mga rekord na pinansyal.",
                q27: "Kasalukuyan akong humahawak ng mga gawain na may kinalaman sa pagbabadget o pagsubaybay ng gastos.",
                q28: "Nagkaroon na ako ng karanasan sa pamamahala ng pananalapi para sa isang proyekto o grupo.",
                q29: "Kaya kong gumawa ng simpleng ulat o buod na pinansyal.",
                q30: "Natitiyak kong tama ang pagtatala at pagsubaybay ng mga transaksyong pinansyal.",
                q31: "May likas akong kakayahan na gumabay, magpalakas ng loob, o magbigay ng payo sa iba.",
                q32: "Madalas akong tumutulong sa mga tao sa pamamagitan ng mentoring, counseling, o coaching.",
                q33: "May karanasan ako sa pagbibigay ng payo o suporta sa mga indibidwal o grupo.",
                q34: "Kaya kong aktibong mag-mentor o mag-counsel sa mga tao kapag kinakailangan.",
                q35: "May kakayahan akong magbigay ng gabay at suporta sa iba sa isang organisadong paraan.",
                q36: "May tiwala ako sa aking pag-unawa sa mga kwento at prinsipyo sa Biblia.",
                q37: "Madalas akong mag-aral at makipag-usap tungkol sa Biblia.",
                q38: "Nagkaroon na ako ng karanasan sa pagtuturo o pagbabahagi ng aral mula sa Kasulatan.",
                q39: "Nais kong palalimin ang aking pag-unawa sa Biblia sa pamamagitan ng pag-aaral.",
                q40: "Nais kong ibahagi ang aking kaalaman tungkol sa Kasulatan sa mga gawain ng simbahan."
            }
        };



        let skillProfilingScore = [0,0,0,0,0,0,0,0];
        let skill=[];
        function skillSubmit(){
            //show question
            if(age<13){
                document.getElementById("overlay").style.display = "block";
                document.getElementById("alertMessage").innerText = "it appears that you are not yet old enough to serve in a ministry. We encourage you to continue growing in your faith and spiritual journey. When the time is right, we would love to see you involved. God bless you on your path of growth and readiness.";
                console.log("The user is not old enough yet");
            }
            console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
            console.log(">> Skill Profile");
            showQuestions('skillQuestion', skillProfilingQuestions, selectedLanguage, skillProfilingScore, 'step2');
        }
    //interest and passion questions
        // const interestAndPassionProfiling = [
        //     //core ministry
        //     "I enjoy helping others learn and grow a relationship with God.",
        //     "I like participating in or helping lead worship, prayer or Bible study.",
        //     "I’m interested in regularly engaging with specific age groups (children, youth, young adults, men/women).",
        //     "I like sharing biblical ideas and supporting others in their spiritual journey.",
        //     "I’d like to be part of ministries that focus on spiritual growth and discipleship.",

        //     //support ministry
        //     "I’m interested in working behind the scenes to help the church run smoothly.",
        //     "I enjoy organizing events, managing tasks, or helping with logistics.",
        //     "I like paying attention to details and making sure things run efficiently.",
        //     "I enjoy helping create a welcoming and organized church environment.”",
        //     "I’d like to be involved in roles such as ushering, administration, hospitality, or facility care",

        //     //outreach ministry
        //     "I am motivated to assist individuals beyond the church community.",
        //     "Sharing my faith and helping others experience God’s love is important to me.",
        //     "I feel a personal calling toward community outreach and service.",
        //     "I am interested about going where people are hurting and bringing hope.",
        //     "I am interested in participating in ministries focused on evangelism and community impact.",

        //     //creative & media ministry
        //     "I am passionate about using my creative talents and interests for God's glory.",
        //     "I enjoy working with visuals, media, technology, or the arts to communicate messages.",
        //     "I find fulfillment and energy in creating content, managing social media, or coordinating live events.",
        //     "I would like to help improve the church’s communication and engagement through creative means.",
        //     "I am interested in using my skills in drama, dance, video, graphic design, or tech to contribute to ministry.",
            
        //     //care & healing ministry
        //     "I feel sincere and have a desire to help those who are hurting or in need.",
        //     "I am a good listener and often find people sharing their struggles with me.",
        //     "I feel strongly called to help others heal emotionally, spiritually, or physically.",
        //     "I sense a calling to help others heal emotionally, spiritually, or physically.",
        //     "I am open and eager to serve in counseling, healing prayer, or support ministries.",

        //     //special interest ministry
        //     "I am interested in ministering to specific groups such as seniors, singles, or working professionals.",
        //     "I enjoy connecting with others who share common interests or hobbies (e.g., sports, writing).",
        //     "I believe my personal experiences and skills can positively contribute to others’ growth.",
        //     "I would enjoy leading or participating in ministries that align with my current life season or stage.",
        //     "I feel drawn to serve in creative or unconventional ministry areas that embrace unique interests."
        // ];
        const interestAndPassionProfiling = {
            en: {
                q1: "I enjoy helping others learn and grow a relationship with God.",
                q2: "I like participating in or helping lead worship, prayer, or Bible study.",
                q3: "I’m interested in regularly engaging with specific age groups (children, youth, young adults, men/women).",
                q4: "I like sharing biblical ideas and supporting others in their spiritual journey.",
                q5: "I’d like to be part of ministries that focus on spiritual growth and discipleship.",
                q6: "I’m interested in working behind the scenes to help the church run smoothly.",
                q7: "I enjoy organizing events, managing tasks, or helping with logistics.",
                q8: "I like paying attention to details and making sure things run efficiently.",
                q9: "I enjoy helping create a welcoming and organized church environment.",
                q10: "I’d like to be involved in roles such as ushering, administration, hospitality, or facility care.",
                q11: "I am motivated to assist individuals beyond the church community.",
                q12: "Sharing my faith and helping others experience God’s love is important to me.",
                q13: "I feel a personal calling toward community outreach and service.",
                q14: "I am interested about going where people are hurting and bringing hope.",
                q15: "I am interested in participating in ministries focused on evangelism and community impact.",
                q16: "I am passionate about using my creative talents and interests for God's glory.",
                q17: "I enjoy working with visuals, media, technology, or the arts to communicate messages.",
                q18: "I find fulfillment and energy in creating content, managing social media, or coordinating live events.",
                q19: "I would like to help improve the church’s communication and engagement through creative means.",
                q20: "I am interested in using my skills in drama, dance, video, graphic design, or tech to contribute to ministry.",
                q21: "I feel sincere and have a desire to help those who are struggling or in need.",
                q22: "I am a good listener and often find people sharing their struggles with me.",
                q23: "I feel strongly called to help others heal emotionally, spiritually, or physically.",
                q24: "I am willing to give my time and understanding to support those in need.",
                q25: "I am open and eager to serve in counseling, healing prayer, or support ministries.",
                q26: "I am interested in ministering to specific groups such as seniors, singles, or working professionals.",
                q27: "I enjoy connecting with others who share common interests or hobbies (e.g., sports, writing).",
                q28: "I believe my personal experiences and skills can positively contribute to others’ growth.",
                q29: "I would enjoy leading or participating in ministries that align with my current life season or stage.",
                q30: "I feel drawn to serve in creative or unconventional ministry areas that embrace unique interests."
            },
            tl: {
                q1: "Nasasiyahan akong tumulong sa iba na matuto at lumago ang kanilang relasyon sa Diyos.",
                q2: "Gusto kong makibahagi o tumulong mamuno sa pagsamba, panalangin, o pag-aaral ng Biblia.",
                q3: "Interesado akong regular na makisalamuha sa partikular na mga grupo ayon sa edad (mga bata, kabataan, young adults, kalalakihan/kababaihan).",
                q4: "Gusto kong magbahagi ng mga ideya mula sa Biblia at sumuporta sa iba sa kanilang espirituwal na paglalakbay.",
                q5: "Gusto kong maging bahagi ng mga ministeryo na nakatuon sa espirituwal na paglago at discipleship.",
                q6: "Interesado akong magtrabaho sa likod ng mga gawain upang maging maayos ang takbo ng simbahan.",
                q7: "Nasasayahan akong mag-organisa ng mga event, mag-manage ng mga gawain, o tumulong sa logistics.",
                q8: "Gusto kong bigyang pansin ang mga detalye at matiyak na maayos ang takbo ng mga bagay.",
                q9: "Nasasiyahan akong tumulong sa paglikha ng isang magiliw at organisadong kapaligiran sa simbahan.",
                q10: "Gusto kong maging kasali sa mga tungkulin gaya ng ushering, administration, hospitality, o pag-aalaga ng pasilidad.",
                q11: "May hangarin akong tumulong sa mga tao sa labas ng komunidad ng simbahan.",
                q12: "Mahalaga sa akin ang pagbabahagi ng aking pananampalataya at pagtulong sa iba na maranasan ang pag-ibig ng Diyos.",
                q13: "Nararamdaman ko ang personal na pagtawag tungo sa community outreach at paglilingkod.",
                q14: "Interesado akong pumunta sa mga lugar kung saan may mga taong nasasaktan at magdala ng pag-asa.",
                q15: "Interesado akong sumali sa mga ministeryo na nakatuon sa evangelism at community impact.",
                q16: "Ipinapakita ko ang aking pagmamahal sa paggamit ng aking malikhaing talento at interes para sa kaluwalhatian ng Diyos.",
                q17: "Nasasiyahan akong magtrabaho gamit ang biswal, media, teknolohiya, o sining upang maipahayag ang mga mensahe.",
                q18: "Natagpuan ko ang kasiyahan at sigla sa paggawa ng nilalaman, pamamahala ng social media, o pag-aayos ng mga live na gawain.",
                q19: "Nais kong makatulong sa pagpapabuti ng komunikasyon at pakikipag-ugnayan ng simbahan sa pamamagitan ng malikhaing paraan.",
                q20: "Interesado akong gamitin ang aking kakayahan sa dula, sayaw, video, graphic design, o teknolohiya upang makatulong sa ministeryo.",
                q21: "Magaan sa loob ko at may hangarin akong tumulong sa mga taong nahihirapan o nangangailangan.",
                q22: "Magaling akong makinig at madalas akong nasasabihan ng mga tao tungkol sa kanilang pinagdadaanan.",
                q23: "Malakas ang pakiramdam kong tinatawag akong tumulong sa paggaling ng iba—emosyonal, espiritwal, o pisikal.",
                q24: "Handa akong maglaan ng oras at pag-unawa para sumuporta sa nangangailangan.",
                q25: "Bukas ako at sabik na maglingkod sa pamamagitan ng counseling, panalangin para sa kagalingan, o mga support ministries.",
                q26: "Interesado akong maglingkod sa mga partikular na grupo gaya ng mga nakatatanda, single, o mga propesyonal.",
                q27: "Nasasayahan akong makipag-ugnayan sa iba na may parehong interes o hilig (hal. sports, pagsusulat).",
                q28: "Naniniwala ako na ang aking mga personal na karanasan at kakayahan ay makatutulong nang positibo sa paglago ng iba.",
                q29: "Magiging masaya ako na mamuno o makibahagi sa mga ministeryo na tumutugma sa aking kasalukuyang yugto ng buhay.",
                q30: "Nararamdaman kong tinatawag ako na maglingkod sa malikhaing o kakaibang ministeryo na tumatanggap ng natatanging interes."
            }
        };

        
        let interestAndPassionProfilingScore = [0,0,0,0,0,0];
        function showMinistryCategory() {
            document.getElementById('step2').classList.add("disable");
            document.getElementById('review').classList.add("disable");
            //record skill
            for (let i = 0; i < skillProfilingScore.length; i++) {
                if(skillProfilingScore[i]>=5){
                    skill = skill.concat(i);
                }
            }
            console.log("music,technology,writing,technical,speaking,accounting,mentoring,bible: "+skill);
            showPuzzle("left");
                setTimeout(function() {
                    document.getElementById('skillQuestion').style.display = "none";
                    document.getElementById('step2').style.display = "none";
                    document.getElementById('step3').style.display = "block";
                    document.getElementById('step3').classList.add("disable");
                    document.getElementById('l2').classList.add("currentStep");
                    document.getElementById('s3').classList.add("currentStep");
                    document.getElementById('ministryCategory').style.display = "block";
                    document.getElementById('review').classList.add("disable");

                    //record skill
                    for (let i = 0; i < skillProfilingScore.length; i++) {
                        if(skillProfilingScore[i]>=10){
                            skill = skill.concat(i+1);
                        }
                    }
                    console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
                    console.log("");
                    console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
                    console.log(">> Ministry(Category) Profile");
                    showQuestions("ministryCategory", interestAndPassionProfiling, selectedLanguage, interestAndPassionProfilingScore, "step3");
                }, 3500);
        }
    
    //filter
        const ministries = [
        //core ministry/
            ["Worship", //"Worship(Singing)", "Worship(Dancing)", "Worship(Instrument)",
            "Prayer","Preaching","Discipleship","Children's",
            "Youth","Young Adults","Men's","Women's","Family Or Couples"],
        //support ministry
            ["Ushering","Hospitality","Administrative","Finance","Security","Facilities Maintenance"],
        //outreach ministry
            ["Evangelism","Missions","Community Service","Visitation","New Believers"],
        //creative and media ministry/
            ["Production Tech","Creative Arts","Communications & Social Media","Graphic & Video Design"],
        //care and healing ministry
            ["Counseling","Healing & Deliverance","Grief & Bereavement","Addiction Recovery","Special Needs"],
        //special interest ministry
            ["Seniors","Single Adults","Marketplace","Sports","Writing Publications"]
        ];
        let ranks = [0,0,0,0,0,0];
        let highest = [];
        let q = 0;
        let ministryInterest = [];
        function filter(){
            document.getElementById('step3').classList.add("disable");
            document.getElementById('review').classList.add("disable");
            console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
            console.log("");
            console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
            console.log(">> Applying Filter");
            //combine all ministry interest
            for (let i = 0; i < highest.length; i++) {
                let min = highest[i];
                ministryInterest = ministryInterest.concat(ministries[min]);
            }
            //populate the ranks
            for(let i = 0; i < interestAndPassionProfilingScore.length; i++) {
                ranks[i]=interestAndPassionProfilingScore[i];
            }
        //find the highest category scorer(can be multiple)
            for (let i = 0; i < ranks.length; i++) {
                for (let j = i+1; j < ranks.length; j++) {
                    if (ranks[i] < ranks[j]) { 
                        // Swap elements
                        const temp = ranks[i];
                        ranks[i] = ranks[j];
                        ranks[j] = temp;
                    }
                }
            }
            //top scorer
            for (let i = 0; i < ranks.length; i++) {
                if(ranks[0]==interestAndPassionProfilingScore[i]){
                    highest[q]=i;
                    q++;
                }
            }
            //combine all ministry interest questions
            for (let i = 0; i < highest.length; i++) {
                let min = highest[i];
                ministryInterest = ministryInterest.concat(ministries[min]);
            }
        //test
            console.log(">> Ministry Interest(raw)");
            console.log(ministryInterest.join(", "));
        //apply restriction
            //gender filter
            let maleRestriction = ["Women's"];
            let femaleRestriction = ["Men's", "Preaching"];
            if (gender == "1") { // male
                ministryInterest = ministryInterest.filter(item => !maleRestriction.includes(item));
            } else if (gender == "2") { // female
                ministryInterest = ministryInterest.filter(item => !femaleRestriction.includes(item));
            }
            console.log(">> Gender filter Applied");
            //age filter
            let age13Restriction = ["Prayer","Preaching","Seniors","Single Adults","Marketplace","Writing Publications","Evangelism","Counseling","Healing & Deliverance","Grief & Bereavement","Addiction Recovery","Special Needs","Missions","Communications & Social Media","Visitation","New Believers","Discipleship","Children's","Young Adults","Men's","Women's","Family Or Couples","Administrative","Finance","Security","Facilities Maintenance"];
            let age16Restriction = ["Prayer","Visitation","Seniors","Single Adults","Marketplace","New Believers","Preaching","Counseling","Healing & Deliverance","Grief & Bereavement","Addiction Recovery","Young Adults","Men's","Women's","Family Or Couples","Administrative","Finance","Security"];
            let age18Restriction = ["Seniors","Family Or Couples","Finance","Counseling","Healing & Deliverance"];
            let age21Restriction = ["Youth","Seniors"];
            let age60Restriction = ["Youth","Young Adults","Marketplace"];
            if(age>=60){
                ministryInterest = ministryInterest.filter(item => !age60Restriction.includes(item));
            }else if(age>=21){
                ministryInterest = ministryInterest.filter(item => !age21Restriction.includes(item));
            }else if(age>=18){
                ministryInterest = ministryInterest.filter(item => !age18Restriction.includes(item));
            }else if(age>=16){
                ministryInterest = ministryInterest.filter(item => !age16Restriction.includes(item));
            }else if(age>=13){
                ministryInterest = ministryInterest.filter(item => !age13Restriction.includes(item));
            }
            console.log(">> Age filter Applied");
            //baptized filter
            let nonBaptizedRestriction = ["Worship","Counseling","Healing & Deliverance","Evangelism","Missions","Visitation","New Believers","Finance","Prayer","Preaching","Discipleship","Children's",];
            if (baptized == "1") { // not Baptized
                ministryInterest = ministryInterest.filter(item => !nonBaptizedRestriction.includes(item));
            }
            console.log(">> Baptized/Non-Baptized filter Applied");
            //status
            let singleRestriction = ["Family Or Couples"];
            let marriedRestriction = ["Single Adults"];
            if (status == "1") { // singleRestriction
                ministryInterest = ministryInterest.filter(item => !singleRestriction.includes(item));
            }else if(status == "2"){//marriedRestriction
                ministryInterest = ministryInterest.filter(item => !marriedRestriction.includes(item));
            }
            console.log(">> Status filter Applied");
            //time in faith filter
            let newComerRestriction = ["Counseling","New Believers","Healing & Deliverance","Marketplace","Grief & Bereavement","Addiction Recovery","Worship","Evangelism","Communications & Social Media","Missions","Visitation","Administrative","Finance","Security","Prayer","Preaching","Discipleship","Children's","Youth","Young Adults","Men's","Women's","Family Or Couples"];
            let sixMonthRestriction = ["Preaching","Finance","Counseling","Healing & Deliverance","Discipleship","New Believers"];
            if (timeInFaith == "1") { // singleRestriction
                ministryInterest = ministryInterest.filter(item => !newComerRestriction.includes(item));
            }else if(timeInFaith == "2"){//marriedRestriction
                ministryInterest = ministryInterest.filter(item => !sixMonthRestriction.includes(item));
            }
            console.log(">> Time in Faith filter Applied");
            //skill filter
            if(!skill.includes("1")){
                ministryInterest = ministryInterest.filter(item => item !== "Worship");
            }
            if(!skill.includes("2")){
                ministryInterest = ministryInterest.filter(item => item !== "Administrative");
                ministryInterest = ministryInterest.filter(item => item !== "Production Tech");
                ministryInterest = ministryInterest.filter(item => item !== "Graphic & Video Design");
                ministryInterest = ministryInterest.filter(item => item !== "Communications & Social Media");
            }
            if(!skill.includes("3")){
                ministryInterest = ministryInterest.filter(item => item !== "Writing Publications");
                ministryInterest = ministryInterest.filter(item => item !== "Communications & Social Media");
            }
            if(!skill.includes("4")){
                ministryInterest = ministryInterest.filter(item => item !== "Facilities Maintenance");
            }
            if(!skill.includes("5") && !skill.includes(8)){
                ministryInterest = ministryInterest.filter(item => item !== "Preaching");
                ministryInterest = ministryInterest.filter(item => item !== "Evangelism");
            }
            if(!skill.includes("6")){
                ministryInterest = ministryInterest.filter(item => item !== "Finance")
                ministryInterest = ministryInterest.filter(item => item !== "Marketplace");
            }
            if(!skill.includes("7")){
                ministryInterest = ministryInterest.filter(item => item !== "Discipleship")
                ministryInterest = ministryInterest.filter(item => item !== "Counseling");
                ministryInterest = ministryInterest.filter(item => item !== "New Believers");
            }
            if(!skill.includes("8")){
                ministryInterest = ministryInterest.filter(item => item !== "Preaching");
                ministryInterest = ministryInterest.filter(item => item !== "Evangelism");
                ministryInterest = ministryInterest.filter(item => item !== "New Believers");
            }
            console.log(">> Skill filter Applied");
            console.log(">> Ministry Interest(filtered)");
            console.log(ministryInterest.join(", "));
            showMinistrySpecific();
        }
    
    //behavioral questions
        // const ministryQuestions = [
        //     // Core ministry
        //     {
        //         "ministry": "Worship",
        //         "questions": [
        //             "Being in a space filled with music, rehearsals, and live worship excites me.",
        //             "I am interested in leading others through singing, playing instruments, or creative expression.",
        // 	        "I have the musical talent, stage presence, or teamwork needed for worship ministry.",
        //             "Serving in worship fits well with my personality and interests.",
        //             "I have thought seriously about joining the worship team before."
        //         ]
        //     },
        //     // {
        //     //     "ministry": "Worship(Singing)",
        //     //     "questions": [
        //     //         "I think I am good at singing and can carry a tune confidently.",
        //     //         "I currently practice singing or use my voice regularly in school, events, or personal time.",
        //     //         "I have performed or sung in front of an audience before.",
        //     //         "I am willing to learn proper vocal techniques to improve my singing.",
        //     //         "I am willing to use my singing talent to serve in the church."
        //     //     ]
        //     // },
        //     // {
        //     //     "ministry": "Worship(Dancing)",
        //     //     "questions": [
        //     //         "I think I am good at dancing and can learn choreography quickly.",
        //     //         "I currently dance or practice movement regularly in school, events, or personal time.",
        //     //         "I have performed or joined a dance group or presentation before.",
        //     //         "I am willing to learn new dance styles or techniques to improve my skills.",
        //     //         "I am willing to use my dancing talent to serve in the church."
        //     //     ]
        //     // },
        //     // {
        //     //     "ministry": "Worship(Instrument)",
        //     //     "questions": [
        //     //         "I think I am good at playing at least one musical instrument.",
        //     //         "I currently practice or play an instrument regularly.",
        //     //         "I have performed or played an instrument in front of an audience before.",
        //     //         "I am willing to learn new instruments or improve my existing skills.",
        //     //         "I am willing to use my instrumental talent to serve in the church."
        //     //     ]
        //     // },
        //     {
        //         "ministry": "Prayer",
        //         "questions": [
        //             "A peaceful, prayer-focused environment would be fulfilling for me.",
        //             "I am willing to spend regular time interceding for people, the church, and world needs.",
        //             "I have the focus, persistence, and spiritual sensitivity to serve in prayer ministry.",
        //             "I believe I would serve well in a ministry centered on prayer.",
        //             "I think I would serve well in a ministry centered on prayer."
        //         ]
        //     },
        //     {
        //         "ministry": "Preaching",
        //         "questions": [
        //             "I would enjoy spending time studying, preparing, and discussing God’s Word.",
        //             "I want to share biblical truths through preaching or teaching.",
        //             "I have the speaking ability, clarity, and understanding needed to communicate Scripture effectively.",
        //             "I think preaching or teaching is a ministry where I could contribute greatly.",
        //             "I have considered stepping into a preaching or teaching role before."
        //     ]
        //     },
        //     {
        //         "ministry": "Discipleship",
        //         "questions": [
        //             "I enjoy being in settings where people are guided and mentored in their faith.",
        //             "I am motivated to invest in others’ spiritual growth over time.",
        //             "I feel I have the patience, consistency, and listening skills that discipleship requires.",
        //             "I believe walking alongside others in faith is a good fit for me.",
        //             "I have thought about being part of a discipleship ministry in the past."
        //         ]
        //     },
        //     {
        //         "ministry": "Children's",
        //         "questions": [
        //             "I would enjoy being in a lively, creative environment filled with children.",
        //             "I am interested in teaching, guiding, and caring for kids in a faith context.",
        //             "I feel I have the patience, energy, and creativity to engage well with children.", 
        //             "I believe I can contribute effectively to a ministry focused on children’s growth and faith.",        
        //             "I have considered joining the children’s ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Youth",
        //         "questions": [
        //             "I would feel energized in a setting filled with teens and youth activities.",
        //             "I feel I have the patience, energy, and creativity to engage well with children.", 
        //             "I believe I can contribute effectively to a ministry focused on children’s growth and faith.",        
        //             "I think youth ministry fits my strengths and personality.",
        //             "I have thought about working with the youth ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Young Adults",
        //         "questions": [
        //             "I enjoy being in environments where young adults share life experiences and challenges.",
        //             "I want to support people in their early career or college years in making faith-based decisions.",
        //             "I have the empathy, understanding, and guidance skills needed for this ministry.",
        //             "I believe I could connect well with and serve in a young adults ministry.",
        //             "I have previously considered joining this ministry."
        //         ]
        //     },
        //     {
        //         "ministry": "Men's",
        //         "questions": [
        //             "I would enjoy building strong, faith-based relationships with other men.",
        //             "I want to help men grow in integrity, leadership, and spiritual strength.",
        //             "I have the openness, mentorship skills, and accountability mindset needed here.",
        //             "I believe the men’s ministry is an area where I could have a strong impact.",
        //             "I have thought about joining the men’s ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Women's",
        //         "questions": [
        //             "I would enjoy a setting where women gather for support, faith, and encouragement.",
        //             "I want to help women grow spiritually, emotionally, and in community.",
        //             "I have the compassion, leadership, and listening skills suited for women’s ministry.",
        //             "I believe I could thrive in a role that uplifts and supports women.",
        //             "I have considered joining the women’s ministry in the past."
        //         ]
        //     },
        //     {
        //         "ministry": "Family Or Couples",
        //         "questions": [
        //             "I would enjoy working in an environment that focuses on strengthening families and marriages.",
        //             "I want to support couples and families through events, teaching, or guidance.",
        //             "I have the wisdom, patience, and relationship skills needed here.",
        //             "I believe I could contribute positively to a ministry focused on families and couples.",
        //             "I have thought about joining this ministry before."
        //         ]
        //     },
        //     // Support ministry
        //     {
        //         "ministry": "Ushering",
        //         "questions": [
        //             "I would enjoy being in a welcoming, people-focused environment.",
        //             "I want to help create a warm and friendly atmosphere during services or events.",
        //             "I have the friendliness, alertness, and helpfulness needed for ushering.",
        //             "I believe I would do well in a ministry that serves as the first point of contact for guests.",
        //             "I have considered serving as an usher before."
        //         ]
        //     },
        //     {
        //         "ministry": "Hospitality",
        //         "questions": [
        //             "I would enjoy being in a setting where food, comfort, and service are prioritized.",
        //             "I want to help prepare and serve food or refreshments for others.",
        //             "I have the organization, presentation, and hosting skills needed here.",
        //             "I believe I could help make people feel welcomed through hospitality ministry.",
        //             "I have thought about joining the hospitality ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Administrative",
        //         "questions": [
        //             "I would enjoy working in an environment that involves organization and planning.",
        //             "I want to help manage schedules, records, or communications for the ministry.",
        //             "I have the attention to detail, time management, and organization skills needed.",
        //             "I believe I could be effective in an administrative role.",
        //             "I have considered serving in an administrative capacity before."
        //         ]
        //     },
        //     {
        //         "ministry": "Finance",
        //         "questions": [
        //             "I would enjoy working in a ministry that handles budgeting and stewardship.",
        //             "I want to help manage and track church or ministry finances.",
        //             "I have the responsibility, accuracy, and trustworthiness needed for this role.",
        //             "I believe I could serve well in a finance or stewardship ministry.",
        //             "I have thought about serving in the finance ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Security",
        //         "questions": [
        //             "I would enjoy being in an environment focused on safety and order.",
        //             "I am interested in helping maintain safety and well-being during church events.",
        // 	        "I feel I have the alertness, calmness, and decisiveness needed for security work.",
        //             "I believe I could fulfill the role of keeping events safe and orderly.",
        //             "I have considered serving in the security ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Facilities Maintenance",
        //         "questions": [
        //             "I would enjoy being in a hands-on, task-focused work environment.",
        //             "I am interested in helping maintain, clean, and prepare church spaces.",
        //             "I believe I have the practical skills, energy, and attention to detail needed for this role",
        //             "I feel capable of contributing effectively to keeping church facilities in good condition.",
        //             "I have thought about joining the facilities team before."
        //         ]
        //     },
        //     // Outreach ministry
        //     {
        //         "ministry": "Evangelism",
        //         "questions": [
        //             "I would enjoy being in an environment that actively connects with new people.",
        //             "I am interested in sharing the message of Jesus through everyday conversations.",
        // 	        "I feel I have the confidence, friendliness, and openness needed for evangelism.",
        //             "I believe I could be effective in reaching out to others with the Gospel.",
        //             "I have considered joining an evangelism ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Missions",
        //         "questions": [
        //             "I would enjoy serving in different cultural or unfamiliar environments.",
        //             "I want to participate in outreach, whether locally or globally.",
        //             "I have the adaptability, teamwork, and openness needed for missions work.",
        //             "I believe I could contribute meaningfully in a missions setting.",
        //             "I have thought about joining missions work before."
        //         ]
        //     },
        //     {
        //         "ministry": "Community Service",
        //         "questions": [
        //             "I would enjoy being in an environment focused on serving the community.",
        //             "I want to help meet practical needs for people in my area.",
        //             "I have the willingness, compassion, and work ethic needed for community service.",
        //             "I believe I could make a difference through service-based ministry.",
        //             "I have considered joining a community service ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Visitation",
        //         "questions": [
        //             " I like spending time with and encouraging people who are sick, alone, or going through a hard time.",
        //             "I want to spend time offering comfort and presence to others.",
        //             "I have the empathy, patience, and gentleness needed for visitation work.",
        //             "I believe I could offer meaningful support through this ministry.",
        //             "I have thought about joining a visitation team before."
        //         ]
        //     },
        //     {
        //         "ministry": "New Believers",
        //         "questions": [
        //             "I would enjoy helping newcomers in their early faith journey.",
        //             "I want to guide others as they develop habits like prayer and Bible reading.",
        //             "I have the patience, understanding, and teaching skills needed here.",
        //             "I believe I could encourage and equip new believers effectively.",
        //             "I have considered joining a ministry for new believers before."
        //         ]
        //     },
        // // Creative Media ministry
        //     {
        //         "ministry": "Production Tech",
        //         "questions": [
        //             "I would enjoy being in a setting that uses technology, screens, and equipment to enhance services.",
        //             "I want to help operate sound, video, lighting, or livestream tools.",
        //             "I have the technical skill, focus, and adaptability needed for media work.",
        //             "I believe I could serve effectively in a tech or media ministry.",
        //             "I have considered joining the Production Tech team before."
        //         ]
        //     },
        //     {
        //         "ministry": "Creative Arts",
        //         "questions": [
        //             "I would enjoy working in a creative space that focuses on visuals and design.",
        //             "I want to help communicate church messages through digital or printed graphics.",
        //             "I have the creativity, software skills, and attention to detail needed here.",
        //             "I believe I could serve well by creating visual materials for the ministry.",
        //             "I have thought about joining a Creative Arts or creative team before."
        //         ]
        //     },
        //     {
        //         "ministry": "Communications & Social Media",
        //         "questions": [
        //             "I would enjoy working in an environment that engages people online.",
        //             "I want to create, post, or manage social media content for the church.",
        //             "I have the creativity, communication skills, and awareness of trends needed.",
        //             "I think I could contribute meaningfully to an online outreach ministry.",
        //             "I have considered serving in social media work before."
        //         ]
        //     },
        //     {
        //         "ministry": "Graphic & Video Design",
        //         "questions": [
        //             "I enjoy capturing moments, events, and stories through photography or videography.",
        //             "I want to help document and share church activities through visual content like photos and videos.",
        //             "I have the creativity and technical skills needed for photography or video production.",
        //             "I believe I could serve well by visually documenting ministry events and projects.",
        //             "I have considered joining a media team that handles both photography and video work."
        //         ]
        //     },
        //     // Care & Healing ministry
        //     {
        //         "ministry": "Counseling",
        //         "questions": [
        //             "I would feel fulfilled serving in a ministry that supports people through life’s emotional challenges.",
        //             "I am interested to help individuals or families find healing and clarity through conversation and prayer.",
        // 	        "I believe I have the empathy, wisdom, and discretion needed for counseling.",
        //             "I believe I could serve well in a role that offers guidance and emotional support.",
        //             "I have considered being part of a counseling or care ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Healing & Deliverance",
        //         "questions": [
        //             "I would like to be part of a ministry that focuses on prayer for healing and freedom.",
        //             "I would like to pray for people’s physical, emotional, or spiritual restoration.",
        //             "I feel I have the sensitivity, discernment, and perseverance for this type of ministry.",
        //             "I believe I could serve effectively in healing and deliverance work.",
        //             "I have thought about joining a ministry that prays for healing before."
        //         ]
        //     },
        //     {
        //         "ministry": "Grief & Bereavement",
        //         "questions": [
        //             "I would feel honored to walk alongside people during seasons of grief and loss.",
        //             "I am comfortable being present with others in sorrow without needing to give quick answers.",
        //             "I have the compassion, gentleness, and stability needed for this ministry.",
        //             "I believe I could serve well in comforting those who are grieving.",
        //             "I have considered joining a grief support or bereavement ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Addiction Recovery",
        //         "questions": [
        //             "I would be committed to helping people find freedom from harmful habits or addictions.",
        //             "I want to support others with grace and patience through the recovery process.",
        //             "I have the understanding, encouragement, and nonjudgmental attitude needed for this work.",
        //             "I believe I could contribute meaningfully to an addiction recovery ministry.",
        //             "I have thought about serving in a recovery or support-based ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Special Needs",
        //         "questions": [
        //             "I would find joy in creating safe and welcoming spaces for people with special needs.",
        //             "I want to help individuals of all abilities feel valued and included.",
        //             "I have the patience, adaptability, and compassion needed for this ministry.",
        //             "I believe I could serve well in supporting people with special needs and their families.",
        //             "I have considered joining a ministry that works with individuals with special needs before."
        //         ]
        //     },
        //     // Special Interest ministry
        //     {
        //         "ministry": "Seniors",
        //         "questions": [
        //             "I would feel fulfilled serving in a ministry that supports and honors older adults.",
        //            "I am interested in spending time listening to and learning from seniors’ life experiences.",
        //         "I believe I have the patience, kindness, and respect needed to serve elderly individuals.",
        //             "I believe I could thrive in a role that offers companionship and practical care for seniors.",
        //             "I have considered joining a ministry that serves elderly members of the church before."
        //         ]
        //     },
        //     {
        //         "ministry": "Single Adults",
        //         "questions": [
        //             "I would enjoy being part of a community that connects and encourages single adults.",
        //         "I am interested in participating in gatherings that support friendship and faith growth among singles.",
        //           "I feel I have the empathy, openness, and encouragement needed for this ministry.",
        //             "I believe I could contribute to helping single adults feel supported and connected.",
        //             "I have thought about serving in a ministry for single adults before."
        //         ]
        //     },
        //     {
        //         "ministry": "Marketplace",
        //         "questions": [
        //             "I would find purpose in a ministry that equips people to live out their faith in the workplace.",
        //           "I am interested in supporting others to apply biblical values in their careers and leadership.",
        //             "I believe I  have the insight, mentorship ability, and networking skills needed for this ministry.",
        //             "I believe I could serve well in encouraging professionals to honor God through their work.",
        //             "I have considered being part of a marketplace or business-focused ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Sports",
        //         "questions": [
        //           "I would enjoy participating in a ministry that connects with others through sports.",
        //            "I am interested in athletic or recreational activities that foster relationships and community.",
        //           "I believe I have the teamwork, energy, and leadership skills suited for this ministry.",
        //          "I think I could use sports as a way to share faith and encourage others.",
        //             "I have thought about joining a sports or recreation ministry before."
        //         ]
        //     },
        //     {
        //         "ministry": "Writing Publications",
        //         "questions": [
        //             "I would be fulfilled serving in a ministry that shares faith and stories through writing.",
        //          "I am interested in creating devotionals, articles, or other written materials to encourage others.",
        //             "I believe I have the clarity, creativity, and attention to detail needed for this ministry.",
        //             "I believe I could contribute well to a team that produces faith-based publications.",
        //             "I have considered serving in a writing or communications ministry before."
        //         ]
        //     }
        // ];

        const ministryQuestions = [
            //coreMinistry
            {
                "ministry": "Worship",
                "questions": [
                    { en: "Being in a space filled with music, rehearsals, and live worship excites me.", tl: "Nasasabik ako sa lugar na puno ng musika, rehearsals, at live worship." },
                    { en: "I am interested in leading others through singing, playing instruments, or creative expression.", tl: "Interesado akong manguna sa iba sa pamamagitan ng pagkanta, pagtugtog ng instrumento, o creative na pagpapahayag." },
                    { en: "I have the musical talent, stage presence, or teamwork needed for worship ministry.", tl: "May kakayahan ako sa musika, stage presence, o teamwork na kailangan para sa worship ministry." },
                    { en: "Serving in worship fits well with my personality and interests.", tl: "Ang paglilingkod sa worship ay bagay sa aking personalidad at interes." },
                    { en: "I enjoy using my musical or creative talents to lead others in worship.", tl: "Nasasaya akong gamitin ang aking musikal o malikhaing talento upang pangunahan ang iba sa pagsamba." }
                ]
            },
            {
                "ministry": "Worship(Singing)",
                "questions": [
                    { en: "I think I am good at singing and can carry a tune confidently.", tl: "Sa tingin ko ay magaling ako sa pagkanta at kaya kong kumanta nang may kumpiyansa." },
                    { en: "I can sing with proper pitch, tone, and breathing control.", tl: "Ako ay kasalukuyang nagsasanay ng pagkanta o gumagamit ng aking tinig nang regular sa paaralan, mga event, o sa personal na oras." },
                    { en: "I have performed or sung in front of an audience before.", tl: "Ako ay nakapagtanghal o kumanta na sa harap ng madla dati." },
                    { en: "I am willing to learn proper vocal techniques to improve my singing.", tl: "Handa akong matuto ng tamang teknik sa boses upang mapabuti ang aking pagkanta." },
                    { en: "I am willing to use my singing talent to serve in the church.", tl: "Handa akong gamitin ang aking talento sa pagkanta upang maglingkod sa simbahan." }
                ]
            },
            {
                "ministry": "Worship(Dancing)",
                "questions": [
                    { en: "I think I am good at dancing and can learn choreography quickly.", tl: "Sa tingin ko ay magaling ako sa pagsayaw at mabilis akong matuto ng choreography." },
                    { en: "I currently dance or practice movement regularly in school, events, or personal time.", tl: "Ako ay kasalukuyang sumasayaw o nagsasanay ng galaw nang regular sa paaralan, mga event, o sa personal na oras." },
                    { en: "I have performed or joined a dance group or presentation before.", tl: "Ako ay nakapagtanghal o nakasali na sa isang dance group o presentasyon dati." },
                    { en: "I am willing to learn new dance styles or techniques to improve my skills.", tl: "Handa akong matuto ng mga bagong estilo o teknik sa pagsayaw upang mapabuti ang aking kakayahan." },
                    { en: "I am willing to use my dancing talent to serve in the church.", tl: "Handa akong gamitin ang aking talento sa pagsayaw upang maglingkod sa simbahan." }
                ]
            },
            {
                "ministry": "Worship(Instrument)",
                "questions": [
                    { en: "I think I am good at playing at least one musical instrument.", tl: "Sa tingin ko ay magaling ako tumugtog ng kahit isang instrumentong pangmusika." },
                    { en: "I currently practice or play an instrument regularly.", tl: "Ako ay kasalukuyang nagsasanay o tumutugtog ng instrumento nang regular." },
                    { en: "I have performed or played an instrument in front of an audience before.", tl: "Ako ay nakatugtog na o nakapagbigay-tanghal gamit ang isang instrumento sa harap ng madla dati." },
                    { en: "I am willing to learn new instruments or improve my existing skills.", tl: "Handa akong matuto ng bagong instrumento o paghusayin ang kasalukuyan kong kakayahan." },
                    { en: "I am willing to use my instrumental talent to serve in the church.", tl: "Handa akong gamitin ang aking talento sa pagtugtog ng instrumento upang maglingkod sa simbahan." }
                ]
            },
            {
                "ministry": "Prayer",
                "questions": [
                    { en: "A peaceful, prayer-focused environment would be fulfilling for me.", tl: "Isang mapayapa at panalanging nakatuon na kapaligiran ang magiging kasiya-siya para sa akin." },
                    { en: "I am willing to spend regular time interceding for people, the church, and world needs.", tl: "Handa akong maglaan ng regular na oras sa pananalangin para sa mga tao, simbahan, at pangangailangan ng mundo." },
                    { en: "I have the focus, persistence, and spiritual sensitivity to serve in prayer ministry.", tl: "May konsentrasyon, tiyaga, at espiritwal na sensibilidad ako upang maglingkod sa prayer ministry." },
                    { en: "I believe I would serve well in a ministry centered on prayer.", tl: "Naniniwala akong magiging maayos ang aking paglilingkod sa isang ministeryo na nakatuon sa panalangin." },
                    { en: "I think I would serve well in a ministry centered on prayer.", tl: "May kumpiyansa ako sa aking kakayahang makapag-ambag sa isang prayer ministry." }
                ]
            },
            {
                "ministry": "Preaching",
                "questions": [
                    { en: "I would enjoy spending time studying, preparing, and discussing God’s Word.", tl: "Mag-eenjoy ako sa pag-aaral, paghahanda, at pagtalakay ng Salita ng Diyos." },
                    { en: "I want to share biblical truths through preaching or teaching.", tl: "Nais kong ibahagi ang mga katotohanang biblikal sa pamamagitan ng pangangaral o pagtuturo." },
                    { en: "I have the speaking ability, clarity, and understanding needed to communicate Scripture effectively.", tl: "May kakayahan akong magsalita, malinaw na magpaliwanag, at maunawaan ang Biblia upang maiparating ito ng epektibo." },
                    { en: "I think preaching or teaching is a ministry where I could contribute greatly.", tl: "Sa tingin ko, ang pangangaral o pagtuturo ay ministeryo kung saan malaki ang maiaambag ko." },
                    { en: "I have considered stepping into a preaching or teaching role before.", tl: "Naisip ko na rin noon na pumasok sa tungkulin ng pangangaral o pagtuturo." }
                ]
            },
            {
                "ministry": "Discipleship",
                "questions": [
                    { en: "I enjoy being in settings where people are guided and mentored in their faith.", tl: "Masaya ako sa mga lugar kung saan ginagabayan at minementor ang mga tao sa pananampalataya." },
                    { en: "I am motivated to invest in others’ spiritual growth over time.", tl: "Interesado akong tulungan ang iba na lumago sa kanilang espiritwal na buhay." },
                    { en: "I feel I have the patience, consistency, and listening skills that discipleship requires.", tl: "May pasensya, palagian sa pagtulong, at kakayahang makinig ako para sa discipleship." },
                    { en: "I believe walking alongside others in faith is a good fit for me.", tl: "Sa tingin ko bagay sa akin ang kasama ang iba sa kanilang pananampalataya." },
                    { en: "I have thought about being part of a discipleship ministry in the past.", tl: "Naisip ko na rin noon na sumali sa isang discipleship ministry." }
                ]
            },
            {
                "ministry": "Children's",
                "questions": [
                    { en: "I would enjoy being in a lively, creative environment filled with children.", tl: "Masaya ako sa masigla at malikhaing lugar na puno ng mga bata." },
                    { en: "I am interested in teaching, guiding, and caring for kids in a faith context.", tl: "Interesado akong magturo, gumabay, at mag-alaga sa mga bata sa konteksto ng pananampalataya." },
                    { en: "I feel I have the patience, energy, and creativity to engage well with children.", tl: "May pasensya, enerhiya, at kakayahan akong makipag-ugnayan nang maayos sa mga bata." },
                    { en: "I believe I can contribute effectively to a ministry focused on children’s growth and faith.", tl: "Naniniwala akong makakatulong ako sa ministeryo na nakatuon sa paglago at pananampalataya ng mga bata." },
                    { en: "I have considered joining the children’s ministry before.", tl: "Naisip ko na rin noon na sumali sa children’s ministry." }
                ]
            },
            {
                "ministry": "Youth",
                "questions": [
                    { en: "I would feel energized in a setting filled with teens and youth activities.", tl: "Masigla akong makaramdam sa lugar na puno ng aktibidad para sa teens at youth." },
                    { en: "I feel I have the patience, energy, and creativity to engage well with teens and youth.", tl: "May pasensya, enerhiya, at kakayahan akong makipag-ugnayan nang maayos sa teens at youth." },
                    { en: "I believe I can contribute effectively to a ministry focused on youth growth and faith.", tl: "Naniniwala akong makakatulong ako sa ministeryo na nakatuon sa paglago at pananampalataya ng youth." },
                    { en: "I think youth ministry fits my strengths and personality.", tl: "Sa tingin ko bagay sa akin ang youth ministry at tugma sa aking kakayahan." },
                    { en: "I have thought about working with the youth ministry before.", tl: "Naisip ko na rin noon na sumali sa youth ministry." }
                ]
            },
            {
                "ministry": "Young Adults",
                "questions": [
                    { en: "I enjoy being in environments where young adults share life experiences and challenges.", tl: "Masaya ako sa mga lugar kung saan nagbabahagi ang young adults ng kanilang karanasan at hamon sa buhay." },
                    { en: "I want to support people in their early career or college years in making faith-based decisions.", tl: "Gusto kong tulungan ang mga tao sa kanilang early career o college years sa paggawa ng desisyon base sa pananampalataya." },
                    { en: "I have the empathy, understanding, and guidance skills needed for this ministry.", tl: "May empatiya, pag-unawa, at kakayahan akong magbigay-gabay para sa ministeryong ito." },
                    { en: "I believe I could connect well with and serve in a young adults ministry.", tl: "Naniniwala akong makakaugnay ako nang maayos at makakapaglingkod sa young adults ministry." },
                    { en: "I have previously considered joining this ministry.", tl: "Naisip ko na rin noon na sumali sa ministeryong ito." }
                ]
            },
            {
                "ministry": "Men's",
                "questions": [
                    { en: "I would enjoy building strong, faith-based relationships with other men.", tl: "Masaya ako na bumuo ng matibay at pananampalatayang relasyon sa ibang lalaki." },
                    { en: "I want to help men grow in integrity, leadership, and spiritual strength.", tl: "Gusto kong tulungan ang mga lalaki na lumago sa integridad, pamumuno, at espiritwal na lakas." },
                    { en: "I have the openness, mentorship skills, and accountability mindset needed here.", tl: "May openness, kakayahan sa mentorship, at pananagutan ako na kailangan dito." },
                    { en: "I believe the men’s ministry is an area where I could have a strong impact.", tl: "Naniniwala akong makakagawa ako ng malaking epekto sa men’s ministry." },
                    { en: "I am interested in participating in group activities that strengthen men's faith and character.", tl: "Interesado akong sumali sa mga group activities na nagpapalakas sa pananampalataya at karakter ng mga lalaki." }
                ]
            },
            {
                "ministry": "Women's",
                "questions": [
                    { en: "I would enjoy a setting where women gather for support, faith, and encouragement.", tl: "Masaya ako sa lugar kung saan nagtitipon ang mga babae para sa suporta, pananampalataya, at pampalakas ng loob." },
                    { en: "I want to help women grow spiritually, emotionally, and in community.", tl: "Gusto kong tulungan ang mga babae na lumago sa espiritwal, emosyonal, at komunidad." },
                    { en: "I have the compassion, leadership, and listening skills suited for women’s ministry.", tl: "May malasakit, kakayahan sa pamumuno, at pakikinig ako na bagay sa women’s ministry." },
                    { en: "I believe I could thrive in a role that uplifts and supports women.", tl: "Naniniwala akong magiging maayos ang aking paglilingkod sa isang tungkulin na nag-uplift at sumusuporta sa mga babae." },
                    { en: "I am interested in participating in group activities that strengthen women's faith and character.", tl: "Interesado akong sumali sa mga group activities na nagpapalakas sa pananampalataya at karakter ng mga babae." }
                ]
            },
            {
                "ministry": "Family Or Couples",
                "questions": [
                    { en: "I would enjoy working in an environment that focuses on strengthening families and marriages.", tl: "Masaya ako na magtrabaho sa lugar na nakatuon sa pagpapalakas ng pamilya at kasal." },
                    { en: "I want to support couples and families through events, teaching, or guidance.", tl: "Gusto kong tulungan ang mga mag-asawa at pamilya sa pamamagitan ng events, pagtuturo, o gabay." },
                    { en: "I have the wisdom, patience, and relationship skills needed here.", tl: "May karunungan, pasensya, at kakayahan sa relasyon ako na kailangan dito." },
                    { en: "I believe I could contribute positively to a ministry focused on families and couples.", tl: "Naniniwala akong makakatulong ako sa ministeryo na nakatuon sa pamilya at mag-asawa." },
                    { en: "I enjoy participating in events or programs that help families build stronger bonds.", tl: "Nasasaya ako sa pagsali sa mga events o programa na tumutulong sa pamilya na magkaroon ng mas matibay na ugnayan." }
                ]
            },

            //support ministry
            {
                "ministry": "Ushering",
                "questions": [
                    { en: "I would enjoy being in a welcoming, people-focused environment.", tl: "Masaya ako sa lugar na nakatuon sa pagtanggap at serbisyo sa tao." },
                    { en: "I want to help create a warm and friendly atmosphere during services or events.", tl: "Gusto kong tulungan lumikha ng mainit at magiliw na kapaligiran sa mga serbisyo o events." },
                    { en: "I have the friendliness, alertness, and helpfulness needed for ushering.", tl: "May kaibigan, alerto, at handa akong tumulong na kakayahan ako para sa ushering." },
                    { en: "I believe I would do well in a ministry that serves as the first point of contact for guests.", tl: "Naniniwala akong magaling akong maglingkod sa ministeryo na unang nakakatagpo sa mga bisita." },
                    { en: "I enjoy coordinating and assisting with logistics to make church events run smoothly.", tl: "Nasasaya ako sa pagtulong at pag-aayos ng mga gawain para maging maayos ang church events." }
                ]
            },
            {
                "ministry": "Hospitality",
                "questions": [
                    { en: "I would enjoy being in a setting where food, comfort, and service are prioritized.", tl: "Masaya ako sa lugar na nakatuon sa pagkain, kaginhawahan, at serbisyo." },
                    { en: "I want to help prepare and serve food or refreshments for others.", tl: "Gusto kong tumulong sa paghahanda at paghahain ng pagkain o refreshments para sa iba." },
                    { en: "I have the organization, presentation, and hosting skills needed here.", tl: "May kakayahan ako sa organisasyon, presentasyon, at pagho-host na kailangan dito." },
                    { en: "I believe I could help make people feel welcomed through hospitality ministry.", tl: "Naniniwala akong makakatulong ako upang maramdaman ng tao ang welcome sa pamamagitan ng hospitality ministry." },
                    { en: "I enjoy creating a warm and welcoming environment for church attendees.", tl: "Nasasaya ako sa paggawa ng mainit at magiliw na kapaligiran para sa mga dumadalo sa simbahan." }
                ]
            },
            {
                "ministry": "Administrative",
                "questions": [
                    { en: "I would enjoy working in an environment that involves organization and planning.", tl: "I would enjoy working in an environment that involves organization and planning." },
                    { en: "I want to help manage schedules, records, or communications for the ministry.", tl: "I want to help manage schedules, records, or communications for the ministry." },
                    { en: "I have the attention to detail, time management, and organization skills needed.", tl: "I have the attention to detail, time management, and organization skills needed." },
                    { en: "I believe I could be effective in an administrative role.", tl: "I believe I could be effective in an administrative role." },
                    { en: "I have considered serving in an administrative capacity before.", tl: "Nasasaya ako sa pag-coordinate at pag-organize ng mga gawain para mas maging epektibo ang ministry." }
                ]
            },
            {
                "ministry": "Finance",
                "questions": [
                    { en: "I enjoy helping manage and organize church finances and resources responsibly.", tl: "Nasasaya ako sa pagtulong sa maayos at responsableng pamamahala ng finances at resources ng simbahan." },
                    { en: "I am confident in handling budgeting, records, and financial tasks accurately.", tl: "May kumpiyansa ako sa paghawak ng budgeting, records, at financial tasks nang tama." },
                    { en: "I like tracking and monitoring expenses to ensure proper stewardship.", tl: "Gusto kong subaybayan at i-monitor ang gastusin upang masiguro ang tamang stewardship." },
                    { en: "I have the attention to detail, reliability, and accountability needed for this ministry.", tl: "May kakayahan ako sa detalye, pagiging maaasahan, at pananagutan na kailangan sa ministeryong ito." },
                    { en: "I am interested in using my financial and stewardship skills to support church activities.", tl: "Interesado akong gamitin ang aking financial at stewardship skills para suportahan ang mga gawain ng simbahan." }
                ]
            },
            {
                "ministry": "Security",
                "questions": [
                    { en: "I would enjoy being in an environment focused on safety and order.", tl: "Masaya ako sa lugar na nakatuon sa kaligtasan at kaayusan." },
                    { en: "I am interested in helping maintain safety and well-being during church events.", tl: "Interesado akong tumulong sa pagpapanatili ng kaligtasan at kapakanan sa mga church events." },
                    { en: "I feel I have the alertness, calmness, and decisiveness needed for security work.", tl: "May alertness, kalmadong disposisyon, at pagiging matatag ako na kailangan sa security work." },
                    { en: "I believe I could fulfill the role of keeping events safe and orderly.", tl: "Naniniwala akong magaling akong gampanan ang tungkulin na panatilihing ligtas at maayos ang mga events." },
                    { en: "I enjoy helping create a safe and secure environment for everyone.", tl: "Nasasaya ako sa pagtulong na magkaroon ng ligtas at maayos na kapaligiran para sa lahat." }
                ]
            },
            {
                "ministry": "Facilities Maintenance",
                "questions": [
                    { en: "I would enjoy being in a hands-on, task-focused work environment.", tl: "Masaya ako sa lugar na hands-on at nakatuon sa mga gawain." },
                    { en: "I am interested in helping maintain, clean, and prepare church spaces.", tl: "Interesado akong tumulong sa pagpapanatili, paglilinis, at paghahanda ng mga pasilidad ng simbahan." },
                    { en: "I believe I have the practical skills, energy, and attention to detail needed for this role.", tl: "Naniniwala akong may praktikal na kakayahan, enerhiya, at pansin sa detalye ako na kailangan sa tungkuling ito." },
                    { en: "I feel capable of contributing effectively to keeping church facilities in good condition.", tl: "Pakiramdam ko kaya kong makapag-ambag nang epektibo sa pagpapanatili ng maayos na kondisyon ng simbahan." },
                    { en: "I enjoy helping maintain and organize church facilities.", tl: "Nasasaya ako sa pagtulong sa pagpapanatili at pag-aayos ng mga pasilidad ng simbahan." }
                ]
            },

            //outreach ministry
            {
                "ministry": "Evangelism",
                "questions": [
                    { en: "I would enjoy being in an environment that actively connects with new people.", tl: "Masaya ako sa lugar na aktibong nakikipag-ugnayan sa mga bagong tao." },
                    { en: "I am interested in sharing the message of Jesus through everyday conversations.", tl: "Interesado akong ibahagi ang mensahe ni Jesus sa pamamagitan ng pang-araw-araw na pag-uusap." },
                    { en: "I feel I have the confidence, friendliness, and openness needed for evangelism.", tl: "Pakiramdam ko may kumpiyansa, pagiging palakaibigan, at bukas na disposisyon ako na kailangan sa evangelism." },
                    { en: "I believe I could be effective in reaching out to others with the Gospel.", tl: "Naniniwala akong magiging epektibo ako sa pag-abot sa iba gamit ang Ebanghelyo." },
                    { en: "I enjoy sharing God’s message with others and helping them grow in faith.", tl: "Nasasaya ako sa pagbabahagi ng mensahe ng Diyos sa iba at pagtulong sa kanilang paglago sa pananampalataya." }
                ]
            },
            {
                "ministry": "Missions",
                "questions": [
                    { en: "I would enjoy serving in different cultural or unfamiliar environments.", tl: "Masaya ako sa paglilingkod sa iba't ibang kultura o hindi pamilyar na kapaligiran." },
                    { en: "I want to participate in outreach, whether locally or globally.", tl: "Interesado akong lumahok sa outreach, lokal man o global." },
                    { en: "I have the adaptability, teamwork, and openness needed for missions work.", tl: "May kakayahan ako sa adaptability, teamwork, at pagiging bukas na disposisyon na kailangan sa missions work." },
                    { en: "I believe I could contribute meaningfully in a missions setting.", tl: "Naniniwala akong makakapag-ambag ako ng may kahulugan sa missions setting." },
                    { en: "I am interested to take part in long-term or short-term mission projects.", tl: "Interesado akong makilahok sa long-term o short-term na mission projects." }
                ]
            },
            {
                "ministry": "Community Service",
                "questions": [
                    { en: "I would enjoy being in an environment focused on serving the community.", tl: "Masaya ako sa lugar na nakatuon sa paglilingkod sa komunidad." },
                    { en: "I want to help meet practical needs for people in my area.", tl: "Interesado akong tumulong sa pagtugon sa praktikal na pangangailangan ng mga tao sa aking lugar." },
                    { en: "I have the willingness, compassion, and work ethic needed for community service.", tl: "May kagustuhan, malasakit, at sipag ako na kailangan sa community service." },
                    { en: "I believe I could make a difference through service-based ministry.", tl: "Naniniwala akong makakagawa ako ng pagbabago sa pamamagitan ng service-based ministry." },
                    { en: "I enjoy actively helping improve the lives of people in my community.", tl: "Nasasaya ako sa aktibong pagtulong na mapabuti ang buhay ng mga tao sa aking komunidad." }
                ]
            },
            {
                "ministry": "Visitation",
                "questions": [
                    { en: "I like spending time with and encouraging people who are sick, alone, or going through a hard time.", tl: "Nasasaya ako sa pakikipag-ugnayan at pagbibigay ng suporta sa mga may sakit, nag-iisa, o dumadaan sa mahirap na panahon." },
                    { en: "I want to spend time offering comfort and presence to others.", tl: "Gusto kong maglaan ng oras sa pagbibigay ng aliw at presensya sa iba." },
                    { en: "I have the empathy, patience, and gentleness needed for visitation work.", tl: "May empathy, pasensya, at kabaitan ako na kailangan sa visitation work." },
                    { en: "I believe I could offer meaningful support through this ministry.", tl: "Naniniwala akong makakapagbigay ako ng makahulugang suporta sa pamamagitan ng ministeryong ito." },
                    { en: "I feel fulfilled when I can provide care and companionship to those who are struggling.", tl: "Pakiramdam ko ay nasisiyahan ako kapag nakakapagbigay ako ng pag-aalaga at kasama sa mga taong nahihirapan." }
                ]
            },
            {
                "ministry": "New Believers",
                "questions": [
                    { en: "I would enjoy helping newcomers in their early faith journey.", tl: "Masaya ako sa pagtulong sa mga bagong mananampalataya sa kanilang unang hakbang sa pananampalataya." },
                    { en: "I want to guide others as they develop habits like prayer and Bible reading.", tl: "Gusto kong gabayan ang iba habang nagde-develop ng mga gawi tulad ng panalangin at pagbabasa ng Bibliya." },
                    { en: "I have the patience, understanding, and teaching skills needed here.", tl: "May pasensya, pag-unawa, at kakayahan sa pagtuturo ako na kailangan dito." },
                    { en: "I believe I could encourage and equip new believers effectively.", tl: "Naniniwala akong makakapagbigay ako ng encouragement at gabay sa mga bagong mananampalataya nang epektibo." },
                    { en: "I enjoy supporting and mentoring new believers as they grow in faith.", tl: "Nasasaya ako sa pagtulong at paggabay sa mga bagong mananampalataya habang lumalago sila sa pananampalataya." }
                ]
            },

            // Creative Media ministry
            {
                "ministry": "Production Tech",
                "questions": [
                    { en: "I would enjoy being in a setting that uses technology, screens, and equipment to enhance services.", tl: "Masaya ako sa lugar na gumagamit ng teknolohiya, screens, at kagamitan upang pagandahin ang mga serbisyo." },
                    { en: "I want to help operate sound, video, lighting, or livestream tools.", tl: "Gusto kong tumulong sa pagpapatakbo ng sound, video, lighting, o livestream tools." },
                    { en: "I have the technical skill, focus, and adaptability needed for media work.", tl: "May teknikal na kakayahan, focus, at adaptability ako na kailangan sa media work." },
                    { en: "I believe I could serve effectively in a tech or media ministry.", tl: "Naniniwala akong makakapaglingkod ako nang epektibo sa tech o media ministry." },
                    { en: "I enjoy using my technical skills to support and enhance church services.", tl: "Nasasaya ako sa paggamit ng aking teknikal na kakayahan upang suportahan at pagandahin ang mga serbisyo ng simbahan." }
                ]
            },
            {
                "ministry": "Creative Arts",
                "questions": [
                    { en: "I would enjoy working in a creative space that focuses on visuals and design.", tl: "Masaya ako sa pagtatrabaho sa isang malikhaing lugar na nakatuon sa visuals at design." },
                    { en: "I want to help communicate church messages through digital or printed graphics.", tl: "Gusto kong tumulong sa pagpapahayag ng mensahe ng simbahan sa pamamagitan ng digital o printed graphics." },
                    { en: "I have the creativity, software skills, and attention to detail needed here.", tl: "May kakayahan sa creativity, software skills, at attention to detail ako na kailangan dito." },
                    { en: "I believe I could serve well by creating visual materials for the ministry.", tl: "Naniniwala akong makakapaglingkod ako nang maayos sa paggawa ng visual materials para sa ministeryo." },
                    { en: "I enjoy using my creativity to design materials that inspire and engage others in ministry.", tl: "Nasasaya ako sa paggamit ng aking pagiging malikhain upang gumawa ng mga materyales na nakaka-inspire at nakaka-engage sa ministeryo." }
                ]
            },
            {
                "ministry": "Communications & Social Media",
                "questions": [
                    { en: "I would enjoy working in an environment that engages people online.", tl: "Masaya ako sa pagtatrabaho sa isang kapaligiran na nakikipag-ugnayan sa mga tao online." },
                    { en: "I want to create, post, or manage social media content for the church.", tl: "Gusto kong gumawa, mag-post, o pamahalaan ang social media content para sa simbahan." },
                    { en: "I have the creativity, communication skills, and awareness of trends needed.", tl: "May creativity, communication skills, at kaalaman sa trends ako na kailangan dito." },
                    { en: "I think I could contribute meaningfully to an online outreach ministry.", tl: "Naniniwala akong makakapag-ambag ako nang may kahulugan sa online outreach ministry." },
                    { en: "I enjoy using social media to connect with and inspire the church community.", tl: "Nasasaya ako sa paggamit ng social media upang makipag-ugnayan at magbigay inspirasyon sa komunidad ng simbahan." }
                ]
            },
            {
                "ministry": "Graphic & Video Design",
                "questions": [
                    { en: "I enjoy capturing moments, events, and stories through photography or videography.", tl: "Nasasaya ako sa pagkuha ng mga sandali, kaganapan, at kwento sa pamamagitan ng photography o videography." },
                    { en: "I want to help document and share church activities through visual content like photos and videos.", tl: "Gusto kong tumulong sa pagdodokumento at pagbabahagi ng mga aktibidad ng simbahan gamit ang visual content tulad ng photos at videos." },
                    { en: "I have the creativity and technical skills needed for photography or video production.", tl: "May creativity at teknikal na kakayahan ako na kailangan para sa photography o video production." },
                    { en: "I believe I could serve well by visually documenting ministry events and projects.", tl: "Naniniwala akong makakapaglingkod ako nang maayos sa pagdodokumento ng mga kaganapan at proyekto ng ministeryo." },
                    { en: "I enjoy using photography and videography to tell meaningful stories for ministry.", tl: "Nasasaya ako sa paggamit ng photography at videography upang maipahayag ang makabuluhang kwento para sa ministeryo." }
                ]
            },

            // Care & Healing ministry
            {
                "ministry": "Counseling",
                "questions": [
                    { en: "I would feel fulfilled serving in a ministry that supports people through life’s emotional challenges.", tl: "Ako ay makakaramdam ng kasiyahan kung ako ay makapaglilingkod sa isang ministeryo na tumutulong sa mga tao sa kanilang emosyonal na hamon sa buhay." },
                    { en: "I am interested to help individuals or families find healing and clarity through conversation and prayer.", tl: "Ako ay interesado na makatulong sa mga indibidwal o pamilya upang makahanap ng kagalingan at kaliwanagan sa pamamagitan ng pag-uusap at panalangin." },
                    { en: "I believe I have the empathy, wisdom, and discretion needed for counseling.", tl: "Naniniwala ako na taglay ko ang empatiya, karunungan, at pagiging maingat na kailangan sa pagkonsulta o pakikinig." },
                    { en: "I believe I could serve well in a role that offers guidance and emotional support.", tl: "Naniniwala ako na makapaglilingkod ako nang maayos sa isang tungkulin na nagbibigay ng gabay at emosyonal na suporta." },
                    { en: "I feel called to use my gifts in listening and compassion to support a counseling or care ministry.", tl: "Nararamdaman kong ako ay tinawag upang gamitin ang aking kakayahan sa pakikinig at malasakit upang makatulong sa isang ministeryo ng pagkalinga o pagkonsulta." }
                ]
            },
            {
                "ministry": "Healing & Deliverance",
                "questions": [
                    { en: "I would like to be part of a ministry that focuses on prayer for healing and freedom.", tl: "Nais kong maging bahagi ng isang ministeryo na nakatuon sa panalangin para sa kagalingan at kalayaan." },
                    { en: "I would like to pray for people’s physical, emotional, or spiritual restoration.", tl: "Nais kong ipanalangin ang pisikal, emosyonal, o espirituwal na paggaling ng mga tao." },
                    { en: "I feel I have the sensitivity, discernment, and perseverance for this type of ministry.", tl: "Nararamdaman ko na taglay ko ang pagiging sensitibo, pagkilala sa kalooban ng Diyos, at pagtitiyaga na kailangan para sa ganitong uri ng ministeryo." },
                    { en: "I believe I could serve effectively in healing and deliverance work.", tl: "Naniniwala ako na makapaglilingkod ako nang mabisa sa gawain ng pagpapagaling at pagpapalaya." },
                    { en: "I am willing to dedicate my time and myself to be an instrument of prayer for the healing and freedom of others.", tl: "Handa akong italaga ang oras at sarili ko upang maging kasangkapan sa panalangin para sa kagalingan at pagpapalaya ng iba." }
                ]
            },
            {
                "ministry": "Grief & Bereavement",
                "questions": [
                    { en: "I would feel honored to walk alongside people during seasons of grief and loss.", tl: "Ikinalulugod kong makasama ang mga tao sa panahon ng dalamhati at pagkawala." },
                    { en: "I am comfortable being present with others in sorrow without needing to give quick answers.", tl: "Komportable akong makasama ang iba sa kanilang kalungkutan kahit hindi agad magbigay ng kasagutan." },
                    { en: "I have the compassion, gentleness, and stability needed for this ministry.", tl: "Taglay ko ang habag, kahinahunan, at katatagan na kailangan para sa ministeryong ito." },
                    { en: "I believe I could serve well in comforting those who are grieving.", tl: "Naniniwala akong makapaglilingkod ako nang maayos sa pagpapalakas ng loob ng mga nagdadalamhati." },
                    { en: "I am willing to offer my time and presence to support individuals and families in their journey through grief.", tl: "Handa kong ialay ang aking oras at presensya upang masuportahan ang mga indibidwal at pamilya sa kanilang paglalakbay sa pagdadalamhati." }
                ]
            },
            {
                "ministry": "Addiction Recovery",
                "questions": [
                    { en: "I would be committed to helping people find freedom from harmful habits or addictions.", tl: "Ikokommite ko ang sarili ko sa pagtulong sa mga tao na makalaya mula sa mapanirang gawi o adiksyon." },
                    { en: "I want to support others with grace and patience through the recovery process.", tl: "Nais kong suportahan ang iba nang may biyaya at pagtitiyaga sa proseso ng kanilang paggaling." },
                    { en: "I have the understanding, encouragement, and nonjudgmental attitude needed for this work.", tl: "Taglay ko ang pang-unawa, paghimok, at hindi mapanghusgang pag-uugali na kailangan para sa gawaing ito." },
                    { en: "I believe I could contribute meaningfully to an addiction recovery ministry.", tl: "Naniniwala ako na makapag-aambag ako nang makabuluhan sa isang ministeryo ng pagbangon mula sa adiksyon." },
                    { en: "I am willing to walk alongside individuals consistently as they pursue healing and lasting recovery.", tl: "Handa akong samahan ang mga indibidwal nang tuloy-tuloy habang sila ay nagsusumikap para sa kagalingan at pangmatagalang pagbabago." }
                ]
            },
            {
                "ministry": "Special Needs",
                "questions": [
                    { en: "I would find joy in creating safe and welcoming spaces for people with special needs.", tl: "Matatagpuan ko ang kagalakan sa paglikha ng ligtas at magiliw na lugar para sa mga taong may espesyal na pangangailangan." },
                    { en: "I want to help individuals of all abilities feel valued and included.", tl: "Nais kong tulungan ang mga indibidwal na may iba’t ibang kakayahan na maramdaman na sila ay mahalaga at kabilang." },
                    { en: "I have the patience, adaptability, and compassion needed for this ministry.", tl: "Taglay ko ang pasensya, kakayahang umangkop, at malasakit na kailangan para sa ministeryong ito." },
                    { en: "I believe I could serve well in supporting people with special needs and their families.", tl: "Naniniwala ako na makapaglilingkod ako nang maayos sa pagsuporta sa mga taong may espesyal na pangangailangan at kanilang pamilya." },
                    { en: "I am willing to dedicate my time and energy to build meaningful connections with individuals with special needs.", tl: "Handa kong italaga ang aking oras at lakas upang makabuo ng makahulugang ugnayan sa mga indibidwal na may espesyal na pangangailangan." }
                ]
            },

            // Special Interest ministry
            {
                "ministry": "Seniors",
                "questions": [
                    { en: "I would feel fulfilled serving in a ministry that supports and honors older adults.", tl: "Makakaramdam ako ng kasiyahan sa paglilingkod sa isang ministeryo na sumusuporta at nagbibigay-pugay sa mga nakatatanda." },
                    { en: "I am interested in spending time listening to and learning from seniors’ life experiences.", tl: "Interesado akong maglaan ng oras sa pakikinig at pagkatuto mula sa mga karanasan sa buhay ng mga nakatatanda." },
                    { en: "I believe I have the patience, kindness, and respect needed to serve elderly individuals.", tl: "Naniniwala ako na taglay ko ang pasensya, kabaitan, at paggalang na kailangan upang maglingkod sa mga nakatatandang indibidwal." },
                    { en: "I believe I could thrive in a role that offers companionship and practical care for seniors.", tl: "Naniniwala akong uunlad ako sa isang tungkulin na nag-aalok ng pakikipagkaibigan at praktikal na pag-aalaga para sa mga nakatatanda." },
                    { en: "I would find purpose in helping seniors share their wisdom and feel a continued sense of belonging.", tl: "Makakakita ako ng layunin sa pagtulong sa mga nakatatanda na maibahagi ang kanilang karunungan at maramdaman na sila ay patuloy na kabilang." }
                ]
            },
            {
                "ministry": "Single Adults",
                "questions": [
                    { en: "I would enjoy being part of a community that connects and encourages single adults.", tl: "Magiging kasiya-siya para sa akin ang maging bahagi ng isang komunidad na nag-uugnay at nagbibigay-lakas sa mga walang asawa." },
                    { en: "I am interested in participating in gatherings that support friendship and faith growth among singles.", tl: "Interesado akong makilahok sa mga pagtitipon na sumusuporta sa pagkakaibigan at paglago sa pananampalataya ng mga single." },
                    { en: "I feel I have the empathy, openness, and encouragement needed for this ministry.", tl: "Nararamdaman kong taglay ko ang empatiya, pagiging bukas, at kakayahang magpalakas ng loob na kailangan para sa ministeryong ito." },
                    { en: "I believe I could contribute to helping single adults feel supported and connected.", tl: "Naniniwala akong makapag-aambag ako sa pagtulong sa mga single adults na maramdaman ang suporta at koneksyon." },
                    { en: "I value the opportunity to affirm that single adults are an important and vital part of the church community.", tl: "Pinahahalagahan ko ang pagkakataong ipakita na ang mga single adults ay mahalaga at may mahalagang bahagi sa komunidad ng simbahan." }
                ]
            },
            {
                "ministry": "Marketplace",
                "questions": [
                    { en: "I would find purpose in a ministry that equips people to live out their faith in the workplace.", tl: "Makakakita ako ng layunin sa isang ministeryo na naghahanda sa mga tao upang maisabuhay ang kanilang pananampalataya sa lugar ng trabaho." },
                    { en: "I am interested in supporting others to apply biblical values in their careers and leadership.", tl: "Interesado akong suportahan ang iba sa pagpapatupad ng mga pagpapahalagang biblikal sa kanilang mga karera at pamumuno." },
                    { en: "I believe I  have the insight, mentorship ability, and networking skills needed for this ministry.", tl: "Naniniwala akong taglay ko ang kaalaman, kakayahang gumabay, at kasanayan sa pakikipag-ugnayan na kailangan para sa ministeryong ito." },
                    { en: "I believe I could serve well in encouraging professionals to honor God through their work.", tl: "Naniniwala akong makapaglilingkod ako nang mabisa sa paghikayat sa mga propesyonal na parangalan ang Diyos sa kanilang trabaho." },
                    { en: "I see the value of influencing the marketplace with integrity and faith-centered leadership.", tl: "Nakikita ko ang kahalagahan ng pagpapalaganap ng integridad at pamumunong nakasentro sa pananampalataya sa mundo ng negosyo." }
                ]
            },
            {
                "ministry": "Sports",
                "questions": [
                    { en: "I would enjoy participating in a ministry that connects with others through sports.", tl: "Mag-eenjoy ako sa pakikilahok sa isang ministeryo na kumokonekta sa iba sa pamamagitan ng palakasan." },
                    { en: "I am interested in athletic or recreational activities that foster relationships and community.", tl: "Interesado ako sa mga aktibidad na pampalakasan o libangan na nagtataguyod ng ugnayan at komunidad." },
                    { en: "I believe I have the teamwork, energy, and leadership skills suited for this ministry.", tl: "Naniniwala akong taglay ko ang pakikipagtulungan, sigla, at kakayahang mamuno na angkop para sa ministeryong ito." },
                    { en: "I think I could use sports as a way to share faith and encourage others.", tl: "Iniisip kong magagamit ko ang sports bilang paraan upang maibahagi ang pananampalataya at mahikayat ang iba." },
                    { en: "I value the opportunity to use sports as a tool to build unity and reach people for Christ.", tl: "Pinahahalagahan ko ang pagkakataong gamitin ang sports bilang kasangkapan upang magtayo ng pagkakaisa at maabot ang mga tao para kay Kristo." }
                ]
            },
            {
                "ministry": "Writing Publications",
                "questions": [
                    { en: "I would be fulfilled serving in a ministry that shares faith and stories through writing.", tl: "Makakaramdam ako ng kaganapan sa paglilingkod sa isang ministeryo na nagbabahagi ng pananampalataya at mga kuwento sa pamamagitan ng pagsusulat." },
                    { en: "I am interested in creating devotionals, articles, or other written materials to encourage others.", tl: "Interesado akong lumikha ng mga debosyonal, artikulo, o iba pang nakasulat na materyal upang mahikayat ang iba." },
                    { en: "I believe I have the clarity, creativity, and attention to detail needed for this ministry.", tl: "Naniniwala akong taglay ko ang kalinawan, pagkamalikhain, at atensyon sa detalye na kailangan para sa ministeryong ito." },
                    { en: "I believe I could contribute well to a team that produces faith-based publications.", tl: "Naniniwala akong makapag-aambag ako nang mabuti sa isang team na gumagawa ng mga publikasyong nakabatay sa pananampalataya." },
                    { en: "I see writing as a meaningful way to reach people who might not be reached through other ministries.", tl: "Nakikita ko ang pagsusulat bilang makabuluhang paraan upang maabot ang mga taong maaaring hindi maabot ng ibang ministeryo." }
                ]
            }
        ];

        let behavioralProfilingScore = [];
        //let filteredQuestion = [];
        let filteredQuestion = { en: {}, tl: {} };
        function showMinistrySpecific() {
            if(ministryInterest.length==0){
                document.getElementById("overlay").style.display = "block";
                document.getElementById("alertMessage").innerText = "It appears that your interest or personal profile doesn't match with the ministries` requirments yet. We encourage you to continue growing in your faith and spiritual journey. When the time is right, we would love to see you involved. God bless you on your path of growth and readiness.";
                console.log("The user's interest or personal profile doesn't match the ministry requirment yet.");
            }
            document.getElementById('step4').classList.add("disable");

            let enCounter = 1;
            let tlCounter = 1;
            for (let i = 0; i < ministryInterest.length; i++) {
                let ministryName = ministryInterest[i];
                let ministryObj = ministryQuestions.find(m => m.ministry === ministryName);
                if (ministryObj) {
                    for (const q of ministryObj.questions) {
                        // Assign each question to q1, q2, ... for each language
                        filteredQuestion.en["q" + enCounter] = q.en;
                        filteredQuestion.tl["q" + tlCounter] = q.tl;
                        enCounter++;
                        tlCounter++;
                    }
                }
            }
            showPuzzle("right");
            setTimeout(function() {
                    document.getElementById('ministryCategory').style.display = "none";
                    document.getElementById('l3').classList.add("currentStep");
                    document.getElementById('s4').classList.add("currentStep");
                    document.getElementById("step3").style.display = "none";
                    document.getElementById("step4").style.display = "block";
                    document.getElementById("step4").classList.add("disable");
                    document.getElementById('ministrySpecific').style.display = "block"; 
                    document.getElementById('review').classList.add("disable");
                    console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
                    console.log("");
                    console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
                    console.log(">> Ministry(specific) Profile");
                    showQuestions("ministrySpecific", filteredQuestion, selectedLanguage, behavioralProfilingScore, "step4");
            }, 3000);
        };

       function showQuestions(portID, questionSet, lang = 'en', scorePort, btnId) {
            const port = document.getElementById(portID);
            if (!port) return;

            const progressIndicator = port.querySelector('.progressIndicator');
            const questionData = Object.values(questionSet[lang]);
            const totalQuestions = questionData.length;

            // Clear existing questions if any
            port.querySelectorAll('.questionBox').forEach(q => q.remove());

            // Render questions
            questionData.forEach((qText, i) => {
                const template = document.getElementById('questionTemp');
                const clone = template.content.cloneNode(true);
                const questionText = clone.querySelector('.questionText');
                const questionBox = clone.querySelector('.questionBox');

                questionText.innerText = qText;
                questionBox.dataset.qidx = i;
                questionBox.dataset.qkey = Object.keys(questionSet[lang])[i]; // for language switching
                
                // Set rateBox button texts immediately according to current language
                clone.querySelectorAll('.rateBox button').forEach(btn => {
                    const translateKey = btn.getAttribute('translate');
                    if (translateKey && uiTranslation[lang][translateKey]) {
                        btn.textContent = uiTranslation[lang][translateKey];
                    }
                });

                if (i !== 0) questionBox.classList.add('denyInput');
                port.appendChild(clone);

                if (i === 0) document.getElementById("inst2")?.scrollIntoView({ behavior: 'smooth', block: 'center' });
            });

            // Initialize scoring
            const GROUP_SIZE = 5;
            const portCount = Math.ceil(totalQuestions / GROUP_SIZE);
            const answers = new Array(totalQuestions).fill(null);
            for (let p = 0; p < portCount; p++) {
                if (typeof scorePort[p] !== 'number') scorePort[p] = 0;
            }
            let answeredCount = 0;

            // Event delegation for rating buttons
            port.addEventListener('click', (e) => {
                const btn = e.target.closest('.rateBox button');
                if (!btn) return;

                const qBox = btn.closest('.questionBox');
                if (!qBox || qBox.classList.contains('denyInput')) return;

                // UI: mark clicked button
                const rateBox = btn.closest('.rateBox');
                rateBox.querySelectorAll('button').forEach(b => b.classList.remove('clicked'));
                btn.classList.add('clicked');

                const qIdx = parseInt(qBox.dataset.qidx, 10);
                const portIdx = Math.floor(qIdx / GROUP_SIZE);
                const newVal = parseInt(btn.value, 10);
                if (isNaN(newVal)) return;

                // Update scoring
                if (answers[qIdx] !== null) {
                    scorePort[portIdx] -= answers[qIdx];
                } else {
                    answeredCount++;
                }

                answers[qIdx] = newVal;
                scorePort[portIdx] += newVal;

                // Unlock next question
                const nextBox = qBox.nextElementSibling;
                if (nextBox?.classList.contains('questionBox')) {
                    nextBox.classList.remove('denyInput');
                    nextBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }

                // Log per set
                if ((qIdx + 1) % GROUP_SIZE === 0) {
                    console.log(`scorePort[${portIdx + 1}] = ${scorePort[portIdx]}`);
                }

                // Update progress bar
                if (progressIndicator) {
                    progressIndicator.style.width = Math.round((answeredCount / totalQuestions) * 100) + "%";
                }

                // Enable next button if complete
                if (answeredCount === totalQuestions) {
                    document.getElementById(btnId)?.classList.remove('disable');
                    document.getElementById("review")?.classList.remove('disable');
                    console.log("Final Score: [" + scorePort.join(", ") + "]");
                }
            });

            // --- Language switch function ---
            port.switchLanguage = (newLang) => {
                if (!questionSet[newLang]) return;
                const qKeys = Object.keys(questionSet[newLang]);
                port.querySelectorAll('.questionBox').forEach((qBox, idx) => {
                    const key = qBox.dataset.qkey;
                    qBox.querySelector('.questionText').innerText = questionSet[newLang][key];
                });

                // Update buttons inside rateBox
                port.querySelectorAll('.rateBox button').forEach(btn => {
                    const translateKey = btn.getAttribute('translate');
                    if (translateKey && uiTranslation[newLang][translateKey]) {
                        btn.textContent = uiTranslation[newLang][translateKey];
                    }
                });
            };

            return port;
        }
        //Stick next btn div
        function reviewAns(){
            document.getElementById('inst2').scrollIntoView({ behavior: 'smooth', block: 'center' });
            document.getElementById('review').style.display = "none";
            document.getElementById('btnDiv').classList.add("btnDivStuck");
        }

        //AI interpretation
        async function interpret(){
            document.getElementById('step4').classList.add("disable");
            document.getElementById('review').classList.add("disable");
            console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
            console.log("");
            console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>");
            console.log(">> Interpret Data...");
            showPuzzle("top");
            setTimeout(function() {
                    document.getElementById('ministrySpecific').style.display = "none";
                    document.getElementById('l4').classList.add("currentStep");
                    document.getElementById('s5').classList.add("currentStep");
                    document.getElementById("step4").style.display = "none";
                    document.getElementById("step5").style.display = "block";
                    document.getElementById("step5").classList.add("disable");
                    document.getElementById('responseDiv').style.display = "block";
                    document.getElementById('inst2').style.display = "none";
                    document.getElementById('review').style.display = "none";
                    document.getElementById('responseDiv').scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 3500);
            startThinkingAnimation();

            for (let i = 0; i < behavioralProfilingScore.length - 1; i++) {
                for (let j = i + 1; j < behavioralProfilingScore.length; j++) {
                    if (Number(behavioralProfilingScore[i]) < Number(behavioralProfilingScore[j])) { 
                        // Swap scores
                        const temp = behavioralProfilingScore[i];
                        behavioralProfilingScore[i] = behavioralProfilingScore[j];
                        behavioralProfilingScore[j] = temp;

                        // Swap matching ministries
                        const temp2 = ministryInterest[i];
                        ministryInterest[i] = ministryInterest[j];
                        ministryInterest[j] = temp2;
                    }
                }
            }
            // build the dynamic top list
                let topList = "";
                let least = "";

                for (let i = 0; i < ministryInterest.length; i++) {
                    topList += `top ${i + 1} [${ministryInterest[i]}]`;
                    if (i !== ministryInterest.length - 1) {
                        topList += ", ";
                    }
                    if (i === ministryInterest.length - 1) {
                        least = `${ministryInterest[i]}`;
                    }
                }

                console.log(topList);
                console.log("Lowest: "+least);

            let message = `
                You are an AI assistant for the Perfit: Am Ai System for matching skills in church ministry.
                A user has completed a test, and their scores are as follows (highest score means top 1):

                List: ${topList}

                Least Aligned Ministry: [${least}]

                Your task is to give interpretation, focusing on the user's divine calling and how ministries align with the user's strengths and purpose. 
                Include a spiritual connection between the top 3 ministries, emphasizing their complementary roles in the user's faith journey.
                display the top 1 with this format:
                <h2 style="color:rgb(128, 65, 128);">Best Fit: [top1 ministry] Ministry</h2>
                //note: make this response 200 words minimum  
                Provide a brief explanation of why this ministry is the user's top fit. 
                Highlight how this ministry aligns with the user's natural gifts, strengths, and passion. 
                Explain that this fit is part of their divine calling, as though this ministry was made for them. 
                Emphasize the alignment between their purpose and this ministry's mission.

                if there is top 2 do this format if not skip it:
                <h2 style="color:rgb(128, 65, 128);">Top 2 Identified Fit: [top2 ministry] Ministry</h2>
                //note: make this response 200 words minimum  
                Provide a brief explanation of why this ministry is the user's second-best fit.
                Focus on how it complements the bestfit, mention its connection.
                Again, explain that this ministry feels like a divine part of their journey,
                something that aligns with their unique gifts and purpose in life.

                if there is top 3 do this format if not skip it:
                <h2 style="color:rgb(128, 65, 128);">Top 3 Identified Fit: [top3 ministry] Ministry</h2>
                //note: make this response 200 words minimum  
                Provide a brief explanation of why this ministry is the user's third-best fit.
                Focus on how it complements their spiritual hobby and quirks.
                Again, explain that this ministry feels like a divine part of their journey,
                something that aligns with their unique gifts and purpose in life.


                Only if there is a top 4 should you display the least aligned ministry in this format; if not, skip it.
                <h2 style="color:rgb(128, 65, 128);">Least Aligned Ministry: [Ministry] Ministry</h2> 
                //note: make this response 150 words minimum  
                Provide a thoughtful and compassionate reflection on why this ministry may have ranked lowest for the user.  
                Emphasize that every ministry plays a vital role in the body of Christ, and a low score does not mean disqualification—it simply highlights a lesser alignment *at this moment*.  
                Encourage the user not to see this as a weakness but as a potential area of spiritual growth.  
                End with a note of affirmation: they are uniquely made, and every ministry—strong or weak—can be a stepping stone in their divine path.


                then display the Spiritual Relationship Between Top Ministries in this format, if there is only 1 ministry skip this:
                <h2 style="color:rgb(128, 65, 128);">Spiritual Relationship Between Top Ministries</h2>
                //note: make this response 200 words minimum
                Explain how these three ministries are connected and complement each other in a spiritual sense. 
                Focus on how their roles support the individual's growth in faith, build on themes like service, prayer, worship, or leadership, and help fulfill the greater mission of the church. 
                Illustrate how the combination of these ministries enhances the user’s role in God's work. 
                
                then display the Growth Opportunities in this format:
                <h2 style="color:rgb(128, 65, 128);">Growth Opportunities:</h2>
                //note: make this response 100 words minimum
                Show how they can grow into their role. Include spiritual, emotional, or skill-based development suggestions. 
                
                then display the Compatibility with Team Dynamics in this format:
                <h2 style="color:rgb(128, 65, 128);">Compatibility with Team Dynamics:</h2>
                //note: make this response 100 words minimum
                Give an insight like "You'd thrive best in teams that are..." (ex. collaborative, structured, spontaneous, etc.) 
                Help them visualize what kind of team culture suits them base on their top ministry. 
                
                then display the Ministry Pathway / Journey Map in this format:
                <h2 style="color:rgb(128, 65, 128);">Ministry Pathway / Journey Map:</h2>
                //note: Put the path way in bullets
                make a possible serving pathway, Help them think long-term, not just one-time serving.
                example:
                - start as an assisstant
                - learn from your senior
                - lead your juniors
                - grow into a leader role. 

                output format:
                <h1 style="color:rgb(128, 65, 128);text-align: center;">CALLING AND SERVICE PROFILE</h1>

                <h2 style="color:rgb(128, 65, 128);">Best Fit: [top1 ministry] Ministry</h2>

                <h2 style="color:rgb(128, 65, 128);">Top 2 Identified Fit: [top2 ministry] Ministry</h2>

                <h2 style="color:rgb(128, 65, 128);">Top 3 Identified Fit: [top3 ministry] Ministry</h2>

                <h2 style="color:rgb(128, 65, 128);">Least Aligned Ministry: [Ministry] Ministry</h2> 

                <h2 style="color:rgb(128, 65, 128);">Spiritual Relationship Between Top Ministries</h2>

                <h2 style="color:rgb(128, 65, 128);">Growth Opportunities:</h2>

                <h2 style="color:rgb(128, 65, 128);">Compatibility with Team Dynamics:</h2>

                <h2 style="color:rgb(128, 65, 128);">Ministry Pathway / Journey Map:</h2>
            `;

                try {
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${apiKey}`
                        },
                        body: JSON.stringify({
                            model: 'gpt-3.5-turbo',
                            messages: [
                                { role: 'system', content: 'You are a helpful church ministry assistant.' },
                                { role: 'user', content: message }
                            ],
                            temperature: 0.7
                        })
                    });

                    if (!response.ok) {
                        const error = await response.text();
                        throw new Error(`OpenAI API error: ${error}`);
                    }

                    const data = await response.json();

                    //Show response
                    stopThinkingAnimation();
                    document.getElementById("responseDiv").innerHTML =
                        data.choices[0].message.content.replace(/\n/g, '<br>');

                } catch (error) {
                    stopThinkingAnimation();
                    console.error("Error:", error);
                    document.getElementById("responseDiv").innerHTML =
                        `<span style="color:red;">Error: ${error.message}</span>`;
                }
        }


    //thinking loading animation
        let thinkingInterval;
        function startThinkingAnimation() {
            const dots = document.getElementById("dots");
            let dotCount = 1;
            thinkingInterval = setInterval(() => {
                dotCount = (dotCount % 3) + 1;
                dots.textContent = ".".repeat(dotCount);
            }, 500);
            document.getElementById("thinking").style.display = "inline";
        }

        function stopThinkingAnimation() {
            clearInterval(thinkingInterval);
            document.getElementById("thinking").style.display = "none";
            document.getElementById("step5").classList.remove("disable");
        }
    //show puzzle
        function showPuzzle(side){
            document.getElementById(side).classList.add("showPiece");
            document.getElementById('puzzle').scrollIntoView({ behavior: 'smooth' });
            setTimeout(function() {document.getElementById(side).classList.add("highlightPiece");}, 1000);
            setTimeout(function() {document.getElementById(side).classList.remove("highlightPiece");}, 2000);
            setTimeout(function() {
                document.getElementById('review').style.display = "block";
                document.getElementById("btnDiv").classList.remove("btnDivStuck");
            }, 3500);
        }
    //animation
        const moveUp = document.querySelectorAll('.move-up');
        const upObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible1');
                }
            });
        }, { threshold: 0.1 });
        moveUp.forEach(el => upObserver.observe(el));
    </script>
    
</body>
</html>